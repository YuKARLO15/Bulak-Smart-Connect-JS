import{j as a}from"./jsx-runtime-Ds-gkUgj.js";import{r as l}from"./index-CtvPRVHf.js";import{B as f}from"./Box-CiLytvgs.js";import{T as c}from"./Typography-bP-jEqOD.js";const E=({label:m,onUpload:u})=>{const[b,g]=l.useState(!1),[p,x]=l.useState(""),[y,r]=l.useState(!1),[d,o]=l.useState(""),i=l.useRef(null),h=n=>new Promise((e,t)=>{const s=new FileReader;s.readAsDataURL(n),s.onload=()=>e(s.result),s.onerror=F=>t(F)}),j=()=>{i.current&&i.current.click()},N=async n=>{const e=n.target.files[0];if(e)try{if(r(!0),o(""),e.size>5*1024*1024){o("File size should not exceed 5MB"),r(!1);return}if(!["image/jpeg","image/png","image/jpg","pdf"].includes(e.type)){o("Only JPEG, PNG or pdf files are allowed"),r(!1);return}const s=await h(e);g(!0),x(e.name),r(!1),u(!0,{name:e.name,type:e.type,size:e.size,data:s})}catch(t){console.error("Error uploading file:",t),o("Error uploading file. Please try again."),r(!1)}};return a.jsxs(f,{className:"file-upload-container",children:[a.jsxs(c,{variant:"subtitle2",className:"file-label",children:[m," ",a.jsx("span",{className:"sample-text",children:"Sample"})]}),a.jsxs(f,{className:"file-upload-box",onClick:j,children:[d&&a.jsx(c,{variant:"body2",className:"error-message",style:{color:"red"},children:d}),a.jsx(c,{variant:"body2",className:"file-uploaddesc",children:y?"Uploading...":p||"Drop a file, or Click to upload"})]}),a.jsx("input",{type:"file",accept:".jpg,.jpeg,.png",ref:i,className:"hidden-input",onChange:N})]})};E.__docgenInfo={description:"",methods:[],displayName:"FileUpload"};export{E as F};

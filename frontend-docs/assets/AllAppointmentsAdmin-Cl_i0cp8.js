import{j as t}from"./jsx-runtime-B78vVl8w.js";import{r as i}from"./iframe-TbmtwHaR.js";import{g as v}from"./RecentAppointmentData-yblrwM7G.js";import{u as g}from"./chunk-AYJ5UCUI-Ci6-IpHO.js";const N=()=>{const r=g(),[n,d]=i.useState([]),[m,o]=i.useState([]),[c,p]=i.useState(!0),[l,u]=i.useState("all"),[a,h]=i.useState("all");i.useEffect(()=>{const e=setTimeout(()=>{const s=v();d(s),o(s),p(!1)},500);return()=>clearTimeout(e)},[]),i.useEffect(()=>{let e=[...n];l!=="all"&&(e=e.filter(s=>s.status===l)),a!=="all"&&(e=e.filter(s=>s.type===a)),e.sort((s,j)=>new Date(j.date)-new Date(s.date)),o(e)},[l,a,n]);const x=e=>{r(`/AppointmentDetails/${e.id}`,{state:{appointment:e}})},f=n.length>0?["all",...new Set(n.map(e=>e.type))]:["all"];return c?t.jsxs("div",{className:"admin-appointments-loading",children:[t.jsx("div",{className:"admin-appointments-loading-spinner"}),t.jsx("p",{children:"Loading appointments..."})]}):t.jsxs("div",{className:"all-appointments-admin",children:[t.jsxs("div",{className:"all-appointments-filters",children:[t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"status-filter",children:"Status:"}),t.jsxs("select",{id:"status-filter",value:l,onChange:e=>u(e.target.value),children:[t.jsx("option",{value:"all",children:"All Statuses"}),t.jsx("option",{value:"pending",children:"Pending"}),t.jsx("option",{value:"confirmed",children:"Confirmed"}),t.jsx("option",{value:"completed",children:"Completed"}),t.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),t.jsxs("div",{className:"filter-group",children:[t.jsx("label",{htmlFor:"type-filter",children:"Type:"}),t.jsx("select",{id:"type-filter",value:a,onChange:e=>h(e.target.value),children:f.map(e=>t.jsx("option",{value:e,children:e==="all"?"All Types":e},e))})]})]}),m.length===0?t.jsx("div",{className:"admin-appointments-empty",children:t.jsx("p",{children:"No appointments found matching your filters."})}):t.jsx("div",{className:"minimal-appointments-list",children:m.map((e,s)=>t.jsxs("div",{className:"minimal-appointment-card",children:[t.jsxs("div",{className:"minimal-appointment-info",children:[t.jsx("div",{className:"minimal-appointment-type",children:e.type}),t.jsxs("div",{className:"minimal-appointment-datetime",children:[e.date," | ",e.time||""]}),t.jsx("div",{className:"minimal-appointment-user",children:e.clientName||e.name||"Anonymous User"})]}),t.jsx("button",{className:"minimal-view-btn",onClick:()=>x(e),children:"View"})]},s))})]})};N.__docgenInfo={description:"",methods:[],displayName:"AllAppointmentsAdmin"};export{N as A};

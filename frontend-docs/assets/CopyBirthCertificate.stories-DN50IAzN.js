import{j as e}from"./jsx-runtime-DfA5hJHX.js";import{r as C}from"./iframe-8kLQaNlo.js";import{B as d}from"./Box-RR7pSSnF.js";import{T as n}from"./Typography-CqW9xWYF.js";import{P as G}from"./Paper-AH_GyJW3.js";import{D as y}from"./Divider-DEdA5KSA.js";import{B as O}from"./Button-CMRT8Q-J.js";import{u as k,a as $}from"./chunk-AYJ5UCUI-C2lY-6au.js";import"./createTheme-BKt_9NYe.js";import"./clsx-B-dksMZM.js";import"./extendSxProp-CBAuFYVy.js";import"./DefaultPropsProvider-BGCa8MWV.js";import"./createSimplePaletteValueFilter-BVa_B_o5.js";import"./useTheme-FpABPbzD.js";import"./dividerClasses-DtYxGPBK.js";import"./CircularProgress-CB3Oc2Nb.js";const g=({formData:j={},handleChange:x})=>{var S;k();const[v,L]=C.useState(j.hasExtension||!1),[i,N]=C.useState(j||{}),c=e.jsx("span",{className:"RequiredFieldCopyBirth",children:"*"}),w=$(),[r,b]=C.useState({}),T=["January","February","March","April","May","June","July","August","September","October","November","December"],q=()=>{var a,l,o,h,p,f,F;const t={};return(a=i.firstName)!=null&&a.trim()||(t.firstName="First name is required"),(l=i.lastName)!=null&&l.trim()||(t.lastName="Last name is required"),i.birthMonth||(t.birthMonth="Month is required"),i.birthDay||(t.birthDay="Day is required"),i.birthYear||(t.birthYear="Year is required"),(o=i.city)!=null&&o.trim()||(t.city="City is required"),(h=i.province)!=null&&h.trim()||(t.province="Province is required"),(p=i.motherFirstName)!=null&&p.trim()||(t.motherFirstName="Mother's first name is required"),(f=i.motherLastName)!=null&&f.trim()||(t.motherLastName="Mother's last name is required"),i.purpose||(t.purpose="Purpose is required"),i.purpose==="Others"&&!((F=i.otherPurpose)!=null&&F.trim())&&(t.otherPurpose="Please specify purpose"),b(t),Object.keys(t).length===0},D=Array.from({length:31},(t,a)=>a+1),P=new Date().getFullYear(),M=Array.from({length:100},(t,a)=>P-a),m=((S=w.state)==null?void 0:S.isEditing)||localStorage.getItem("isEditingBirthApplication")==="true";C.useEffect(()=>{if(m)try{console.log("Loading data for editing...");const t=localStorage.getItem("editingApplicationId");console.log("Editing application ID:",t);const l=JSON.parse(localStorage.getItem("applications")||"[]").find(o=>o.id===t);if(l&&l.formData)console.log("Found application to edit:",l),N(l.formData);else{const o=localStorage.getItem("birthCertificateApplication");o?(N(JSON.parse(o)),console.log("Loaded form data from birthCertificateApplication")):console.warn("No application data found for editing")}}catch(t){console.error("Error loading data for editing:",t)}else console.log("Starting with new application - clearing form data"),N({}),localStorage.removeItem("birthCertificateApplication");return()=>{m||localStorage.setItem("birthCertificateApplication",JSON.stringify(j))}},[m]);const s=t=>{const{name:a,value:l}=t.target;N(o=>({...o,[a]:l})),r[a]&&b(o=>{const h={...o};return delete h[a],h}),typeof x=="function"&&x(t)},A=t=>{L(t.target.checked),typeof x=="function"&&x({target:{name:"hasExtension",value:t.target.checked}})},R=()=>{if(!q()){console.log("Form validation failed"),window.scrollTo(0,0);return}try{console.log("Processing next button click...");let t;m?(t=localStorage.getItem("editingApplicationId"),console.log("Editing existing application:",t)):(t="BC-"+Date.now().toString().slice(-6),console.log("Creating new application:",t));const a={...i,purpose:i.purpose||"",isCopyRequest:!0},l={id:t,type:"Birth Certificate",applicationType:"Request copy",date:new Date().toLocaleDateString("en-US",{year:"numeric",month:"numeric",day:"numeric"}),status:m&&localStorage.getItem("currentApplicationStatus")||"Pending",message:`Copy of Birth Certificate request for ${a.firstName||""} ${a.lastName||""}`,formData:a,lastUpdated:new Date().toISOString()},o=JSON.parse(localStorage.getItem("applications")||"[]");if(m){const p=o.findIndex(f=>f.id===t);p>=0?(o[p]=l,console.log("Updated existing application at index:",p)):(o.push(l),console.log("Added new application (was editing but not found):",t))}else o.push(l),console.log("Added new application:",t);localStorage.setItem("applications",JSON.stringify(o)),localStorage.setItem("currentApplicationId",t),localStorage.setItem("birthCertificateApplication",JSON.stringify(a)),localStorage.removeItem("isEditingBirthApplication"),localStorage.removeItem("editingApplicationId"),localStorage.removeItem("editingApplication"),window.dispatchEvent(new Event("storage"));const h=new CustomEvent("customStorageUpdate",{detail:{id:t,type:"Birth Certificate",action:m?"updated":"created"}});window.dispatchEvent(h),window.location.href="/CTCBirthCertificate"}catch(t){console.error("Error processing form:",t),alert("There was a problem with your request. Please try again.")}};return e.jsxs(d,{className:"CopyBirthCertificateContainer",children:[Object.keys(r).length>0&&e.jsxs("div",{className:"ErrorSummary",style:{backgroundColor:"#ffebee",padding:"10px 15px",borderRadius:"4px",marginBottom:"20px",border:"1px solid #f44336"},children:[e.jsx(n,{variant:"subtitle1",style:{color:"#d32f2f",fontWeight:"bold"},children:"Please correct the following errors:"}),e.jsx("ul",{style:{margin:"5px 0 0 20px",padding:0},children:Object.values(r).map((t,a)=>e.jsx("li",{style:{color:"#d32f2f"},children:t},a))})]}),e.jsx(n,{variant:"h5",className:"FormTitleCopyBirth",children:"Request a Copy of Birth Certificate"}),e.jsxs(d,{className:"CopyBirthCertificateContainerCopyBirth",children:[e.jsx(n,{variant:"body1",className:"FormSubtitleCopyBirth",children:"Please provide the information exactly as it appears on your birth certificate"}),e.jsxs(G,{elevation:3,className:"FormPaperCopyBirth",children:[e.jsxs(d,{className:"FormSectionCopyBirth",children:[e.jsx(n,{variant:"h6",className:"SectionTitleCopyBirth",children:"Personal Information"}),e.jsxs(n,{className:"SubSectionTitleCopyBirth",children:["FULL NAME ",c]}),e.jsxs("div",{className:"FormRowChild",children:[e.jsxs("div",{className:"FormGroupChild",children:[e.jsxs("label",{className:"FormLabelChild",children:["First Name ",c]}),e.jsx("input",{type:"text",name:"firstName",value:i.firstName||"",onChange:s,className:`FormInputChild ${r.firstName?"InputError":""}`,required:!0}),r.firstName&&e.jsx("span",{className:"ErrorText",style:{color:"#d32f2f",fontSize:"0.75rem"},children:r.firstName})]}),e.jsxs("div",{className:"FormGroupChild",children:[e.jsx("label",{className:"FormLabelChild",children:"Middle Name"}),e.jsx("input",{type:"text",name:"middleName",value:i.middleName||"",onChange:s,className:"FormInputChild"})]}),e.jsxs("div",{className:"FormGroupChild",children:[e.jsxs("label",{className:"FormLabelChild",children:["Last Name ",c]}),e.jsx("input",{type:"text",name:"lastName",value:i.lastName||"",onChange:s,className:`FormInputChild ${r.lastName?"InputError":""}`,required:!0}),r.lastName&&e.jsx("span",{className:"ErrorText",style:{color:"#d32f2f",fontSize:"0.75rem"},children:r.lastName})]})]}),e.jsxs("div",{className:"FormRowChild",children:[e.jsxs("div",{className:"CheckboxContainerChild",children:[e.jsx("input",{type:"checkbox",id:"extensionCheckbox",checked:v,onChange:A,className:"CheckboxInputChild"}),e.jsx("label",{htmlFor:"extensionCheckbox",className:"CheckboxLabelChild",children:"I have an extension name (Jr., Sr., III, etc.)"})]}),v&&e.jsxs("div",{className:"ExtensionContainerChild",children:[e.jsx("span",{className:"ExtensionLabelChild",children:"Extension"}),e.jsxs("select",{name:"extension",value:i.extension||"",onChange:s,className:"SelectInputChild",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Jr.",children:"Jr."}),e.jsx("option",{value:"Sr.",children:"Sr."}),e.jsx("option",{value:"II",children:"II"}),e.jsx("option",{value:"III",children:"III"}),e.jsx("option",{value:"IV",children:"IV"}),e.jsx("option",{value:"V",children:"V"})]})]})]})]}),e.jsx(y,{className:"SectionDividerCopyBirth"}),e.jsxs(d,{className:"FormSectionCopyBirth",children:[e.jsx(n,{variant:"h6",className:"SectionTitleCopyBirth",children:"Birth Information"}),e.jsxs(n,{variant:"subtitle1",className:"SubSectionTitleCopyBirth",children:["Date of Birth ",c]}),e.jsxs("div",{className:"DateInputsRowChild",children:[e.jsxs("div",{className:"FormGroupChild",children:[e.jsx("label",{className:"FormLabelChild",children:"Month"}),e.jsxs("select",{name:"birthMonth",value:i.birthMonth||"",onChange:s,className:`SelectInputChild ${r.birthMonth?"InputError":""}`,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),T.map(t=>e.jsx("option",{value:t,children:t},t))]}),r.birthMonth&&e.jsx("span",{className:"ErrorText",style:{color:"#d32f2f",fontSize:"0.75rem"},children:r.birthMonth})]}),e.jsxs("div",{className:"FormGroupChild",children:[e.jsx("label",{className:"FormLabelChild",children:"Day"}),e.jsxs("select",{name:"birthDay",value:i.birthDay||"",onChange:s,className:`SelectInputChild ${r.birthDay?"InputError":""}`,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),D.map(t=>e.jsx("option",{value:t,children:t},t))]}),r.birthDay&&e.jsx("span",{className:"ErrorText",style:{color:"#d32f2f",fontSize:"0.75rem"},children:r.birthDay})]}),e.jsxs("div",{className:"FormGroupChild",children:[e.jsx("label",{className:"FormLabelChild",children:"Year"}),e.jsxs("select",{name:"birthYear",value:i.birthYear||"",onChange:s,className:`SelectInputChild ${r.birthYear?"InputError":""}`,required:!0,children:[e.jsx("option",{value:"",children:"Select"}),M.map(t=>e.jsx("option",{value:t,children:t},t))]}),r.birthYear&&e.jsx("span",{className:"ErrorText",style:{color:"#d32f2f",fontSize:"0.75rem"},children:r.birthYear})]})]}),e.jsxs(n,{variant:"subtitle1",className:"SubSectionTitleCopyBirth",style:{marginTop:"20px"},children:["Place of Birth ",c]}),e.jsxs("div",{className:"FormRowChild",children:[e.jsxs("div",{className:"FormGroupChild",children:[e.jsxs("label",{className:"FormLabelChild",children:["City/Municipality ",c]}),e.jsx("input",{type:"text",name:"city",value:i.city||"",onChange:s,className:`FormInputChild ${r.city?"InputError":""}`,required:!0}),r.city&&e.jsx("span",{className:"ErrorText",style:{color:"#d32f2f",fontSize:"0.75rem"},children:r.city})]}),e.jsxs("div",{className:"FormGroupChild",children:[e.jsxs("label",{className:"FormLabelChild",children:["Province ",c]}),e.jsx("input",{type:"text",name:"province",value:i.province||"",onChange:s,className:`FormInputChild ${r.province?"InputError":""}`,required:!0}),r.province&&e.jsx("span",{className:"ErrorText",style:{color:"#d32f2f",fontSize:"0.75rem"},children:r.province})]})]})]}),e.jsx(y,{className:"SectionDividerCopyBirth"}),e.jsxs(d,{className:"FormSectionCopyBirth",children:[e.jsx(n,{variant:"h6",className:"SectionTitleCopyBirth",children:"Parents Information"}),e.jsxs(n,{variant:"subtitle1",className:"SubSectionTitleCopyBirth",children:["Mother's Maiden Name ",c]}),e.jsxs("div",{className:"FormRowChild",children:[e.jsxs("div",{className:"FormGroupChild",children:[e.jsxs("label",{className:"FormLabelChild",children:["First Name ",c]}),e.jsx("input",{type:"text",name:"motherFirstName",value:i.motherFirstName||"",onChange:s,className:`FormInputChild ${r.motherFirstName?"InputError":""}`,required:!0}),r.motherFirstName&&e.jsx("span",{className:"ErrorText",style:{color:"#d32f2f",fontSize:"0.75rem"},children:r.motherFirstName})]}),e.jsxs("div",{className:"FormGroupChild",children:[e.jsx("label",{className:"FormLabelChild",children:"Middle Name"}),e.jsx("input",{type:"text",name:"motherMiddleName",value:i.motherMiddleName||"",onChange:s,className:"FormInputChild"})]}),e.jsxs("div",{className:"FormGroupChild",children:[e.jsxs("label",{className:"FormLabelChild",children:["Last Name ",c]}),e.jsx("input",{type:"text",name:"motherLastName",value:i.motherLastName||"",onChange:s,className:`FormInputChild ${r.motherLastName?"InputError":""}`,required:!0}),r.motherLastName&&e.jsx("span",{className:"ErrorText",style:{color:"#d32f2f",fontSize:"0.75rem"},children:r.motherLastName})]})]}),e.jsx(n,{variant:"subtitle1",className:"SubSectionTitleCopyBirth",style:{marginTop:"20px"},children:"Father's Name"}),e.jsxs("div",{className:"FormRowChild",children:[e.jsxs("div",{className:"FormGroupChild",children:[e.jsx("label",{className:"FormLabelChild",children:"First Name"}),e.jsx("input",{type:"text",name:"fatherFirstName",value:i.fatherFirstName||"",onChange:s,className:"FormInputChild"})]}),e.jsxs("div",{className:"FormGroupChild",children:[e.jsx("label",{className:"FormLabelChild",children:"Middle Name"}),e.jsx("input",{type:"text",name:"fatherMiddleName",value:i.fatherMiddleName||"",onChange:s,className:"FormInputChild"})]}),e.jsxs("div",{className:"FormGroupChild",children:[e.jsx("label",{className:"FormLabelChild",children:"Last Name"}),e.jsx("input",{type:"text",name:"fatherLastName",value:i.fatherLastName||"",onChange:s,className:"FormInputChild"})]})]})]}),e.jsx(y,{className:"SectionDividerCopyBirth"}),e.jsxs(d,{className:"FormSectionCopyBirth",children:[e.jsx(n,{variant:"h6",className:"SectionTitleCopyBirth",children:"Purpose of Request"}),e.jsx("div",{className:"FormRowChild",children:e.jsxs("div",{className:"FormGroupChild",style:{width:"100%"},children:[e.jsxs("label",{className:"FormLabelChild",children:["Purpose ",c]}),e.jsxs("select",{name:"purpose",value:i.purpose||"",onChange:s,className:`SelectInputChild ${r.purpose?"InputError":""}`,style:{width:"100%"},required:!0,children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"Passport Application",children:"Passport Application"}),e.jsx("option",{value:"School Requirements",children:"School Requirements"}),e.jsx("option",{value:"Employment",children:"Employment"}),e.jsx("option",{value:"Claim Benefits/Loan",children:"Claim Benefits/Loan"}),e.jsx("option",{value:"Marriage License",children:"Marriage License"}),e.jsx("option",{value:"Legal Purposes",children:"Legal Purposes"}),e.jsx("option",{value:"Travel",children:"Travel"}),e.jsx("option",{value:"Others",children:"Others"})]}),r.purpose&&e.jsx("span",{className:"ErrorText",style:{color:"#d32f2f",fontSize:"0.75rem"},children:r.purpose})]})}),i.purpose==="Others"&&e.jsx("div",{className:"FormRowChild",children:e.jsxs("div",{className:"FormGroupChild",style:{width:"100%"},children:[e.jsxs("label",{className:"FormLabelChild",children:["Specify Purpose ",c]}),e.jsx("input",{type:"text",name:"otherPurpose",value:i.otherPurpose||"",onChange:s,className:`FormInputChild ${r.otherPurpose?"InputError":""}`,required:!0}),r.otherPurpose&&e.jsx("span",{className:"ErrorText",style:{color:"#d32f2f",fontSize:"0.75rem"},children:r.otherPurpose})]})})]}),e.jsx(d,{className:"FormNoteCopyBirth",children:e.jsx(n,{variant:"body2",children:"Note: The information you provide should exactly match what appears on your birth certificate record. Inaccurate information may result in delay or inability to locate your records."})})]}),e.jsx(d,{className:"ButtonContainerCopyBirth",style:{marginTop:"20px",display:"flex",justifyContent:"center"},children:e.jsx(O,{variant:"contained",color:"primary",onClick:R,className:"NextButtonCopyBirth",size:"large",children:"NEXT"})})]})]})};g.__docgenInfo={description:"",methods:[],displayName:"CopyBirthCertificate",props:{formData:{defaultValue:{value:"{}",computed:!1},required:!1}}};const ae={title:"Components/CopyBirthCertificate",component:g},u=()=>e.jsx(g,{});u.__docgenInfo={description:"",methods:[],displayName:"Default"};var I,E,B;u.parameters={...u.parameters,docs:{...(I=u.parameters)==null?void 0:I.docs,source:{originalSource:"() => <CopyBirthCertificate />",...(B=(E=u.parameters)==null?void 0:E.docs)==null?void 0:B.source}}};const se=["Default"];export{u as Default,se as __namedExportsOrder,ae as default};

import{j as e}from"./jsx-runtime-Ds-gkUgj.js";import{r as f}from"./index-CtvPRVHf.js";import{C as aa}from"./Close-BFUA1JaJ.js";import{c as L}from"./createSvgIcon-C90RuxAZ.js";/* empty css                           */import{b as ea}from"./ApplicationData-Dqq-Md44.js";import{B as $}from"./Box-DTRDwRT5.js";import{a as ra,B,C as oa}from"./CircularProgress-3zimLSxM.js";import{T as b}from"./Typography-B_acdWah.js";import{A as ta,I as ia}from"./Alert-15g-uXn2.js";import{C as W}from"./Card-5N8AYhSH.js";import{C as F}from"./CardContent-VBZVOkE2.js";import{B as w}from"./Button-CrXPkcH8.js";import{D as la,a as na,b as sa}from"./DialogTitle-HlKLS9jm.js";import{S as ca}from"./Stack-TISiD_D8.js";import{D as K}from"./Divider-CzN18ShR.js";import{a as da}from"./List-DCiUGmCN.js";import{L as pa}from"./ListItem-DnKO95hT.js";import{G as P}from"./Grid-k8hMs07I.js";import{c as I}from"./clsx-B-dksMZM.js";import{u as fa,s as H,c as ga,m as ua}from"./DefaultPropsProvider-D010D3ru.js";import{c as R}from"./createSimplePaletteValueFilter-5s3yMkVM.js";import{g as ma,b as ba,d as l,a as v}from"./createTheme-C6kIcmbg.js";import{u as xa,a as Ca}from"./chunk-AYJ5UCUI-CkRdRQ96.js";const va=L(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function ya(a){return ba("MuiChip",a)}const o=ma("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),ha=a=>{const{classes:i,disabled:r,size:s,color:c,iconColor:h,onDelete:d,clickable:g,variant:m}=a,x={root:["root",m,r&&"disabled",`size${l(s)}`,`color${l(c)}`,g&&"clickable",g&&`clickableColor${l(c)}`,d&&"deletable",d&&`deletableColor${l(c)}`,`${m}${l(c)}`],label:["label",`label${l(s)}`],avatar:["avatar",`avatar${l(s)}`,`avatarColor${l(c)}`],icon:["icon",`icon${l(s)}`,`iconColor${l(h)}`],deleteIcon:["deleteIcon",`deleteIcon${l(s)}`,`deleteIconColor${l(c)}`,`deleteIcon${l(m)}Color${l(c)}`]};return ga(x,ya,i)},$a=H("div",{name:"MuiChip",slot:"Root",overridesResolver:(a,i)=>{const{ownerState:r}=a,{color:s,iconColor:c,clickable:h,onDelete:d,size:g,variant:m}=r;return[{[`& .${o.avatar}`]:i.avatar},{[`& .${o.avatar}`]:i[`avatar${l(g)}`]},{[`& .${o.avatar}`]:i[`avatarColor${l(s)}`]},{[`& .${o.icon}`]:i.icon},{[`& .${o.icon}`]:i[`icon${l(g)}`]},{[`& .${o.icon}`]:i[`iconColor${l(c)}`]},{[`& .${o.deleteIcon}`]:i.deleteIcon},{[`& .${o.deleteIcon}`]:i[`deleteIcon${l(g)}`]},{[`& .${o.deleteIcon}`]:i[`deleteIconColor${l(s)}`]},{[`& .${o.deleteIcon}`]:i[`deleteIcon${l(m)}Color${l(s)}`]},i.root,i[`size${l(g)}`],i[`color${l(s)}`],h&&i.clickable,h&&s!=="default"&&i[`clickableColor${l(s)})`],d&&i.deletable,d&&s!=="default"&&i[`deletableColor${l(s)}`],i[m],i[`${m}${l(s)}`]]}})(ua(({theme:a})=>{const i=a.palette.mode==="light"?a.palette.grey[700]:a.palette.grey[300];return{maxWidth:"100%",fontFamily:a.typography.fontFamily,fontSize:a.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(a.vars||a).palette.text.primary,backgroundColor:(a.vars||a).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:a.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${o.disabled}`]:{opacity:(a.vars||a).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${o.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:a.vars?a.vars.palette.Chip.defaultAvatarColor:i,fontSize:a.typography.pxToRem(12)},[`& .${o.avatarColorPrimary}`]:{color:(a.vars||a).palette.primary.contrastText,backgroundColor:(a.vars||a).palette.primary.dark},[`& .${o.avatarColorSecondary}`]:{color:(a.vars||a).palette.secondary.contrastText,backgroundColor:(a.vars||a).palette.secondary.dark},[`& .${o.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:a.typography.pxToRem(10)},[`& .${o.icon}`]:{marginLeft:5,marginRight:-6},[`& .${o.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:a.vars?`rgba(${a.vars.palette.text.primaryChannel} / 0.26)`:v(a.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:a.vars?`rgba(${a.vars.palette.text.primaryChannel} / 0.4)`:v(a.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${o.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${o.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(a.palette).filter(R(["contrastText"])).map(([r])=>({props:{color:r},style:{backgroundColor:(a.vars||a).palette[r].main,color:(a.vars||a).palette[r].contrastText,[`& .${o.deleteIcon}`]:{color:a.vars?`rgba(${a.vars.palette[r].contrastTextChannel} / 0.7)`:v(a.palette[r].contrastText,.7),"&:hover, &:active":{color:(a.vars||a).palette[r].contrastText}}}})),{props:r=>r.iconColor===r.color,style:{[`& .${o.icon}`]:{color:a.vars?a.vars.palette.Chip.defaultIconColor:i}}},{props:r=>r.iconColor===r.color&&r.color!=="default",style:{[`& .${o.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${o.focusVisible}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.action.selectedChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.focusOpacity}))`:v(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)}}},...Object.entries(a.palette).filter(R(["dark"])).map(([r])=>({props:{color:r,onDelete:!0},style:{[`&.${o.focusVisible}`]:{background:(a.vars||a).palette[r].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:a.vars?`rgba(${a.vars.palette.action.selectedChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.hoverOpacity}))`:v(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.hoverOpacity)},[`&.${o.focusVisible}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette.action.selectedChannel} / calc(${a.vars.palette.action.selectedOpacity} + ${a.vars.palette.action.focusOpacity}))`:v(a.palette.action.selected,a.palette.action.selectedOpacity+a.palette.action.focusOpacity)},"&:active":{boxShadow:(a.vars||a).shadows[1]}}},...Object.entries(a.palette).filter(R(["dark"])).map(([r])=>({props:{color:r,clickable:!0},style:{[`&:hover, &.${o.focusVisible}`]:{backgroundColor:(a.vars||a).palette[r].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:a.vars?`1px solid ${a.vars.palette.Chip.defaultBorder}`:`1px solid ${a.palette.mode==="light"?a.palette.grey[400]:a.palette.grey[700]}`,[`&.${o.clickable}:hover`]:{backgroundColor:(a.vars||a).palette.action.hover},[`&.${o.focusVisible}`]:{backgroundColor:(a.vars||a).palette.action.focus},[`& .${o.avatar}`]:{marginLeft:4},[`& .${o.avatarSmall}`]:{marginLeft:2},[`& .${o.icon}`]:{marginLeft:4},[`& .${o.iconSmall}`]:{marginLeft:2},[`& .${o.deleteIcon}`]:{marginRight:5},[`& .${o.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(a.palette).filter(R()).map(([r])=>({props:{variant:"outlined",color:r},style:{color:(a.vars||a).palette[r].main,border:`1px solid ${a.vars?`rgba(${a.vars.palette[r].mainChannel} / 0.7)`:v(a.palette[r].main,.7)}`,[`&.${o.clickable}:hover`]:{backgroundColor:a.vars?`rgba(${a.vars.palette[r].mainChannel} / ${a.vars.palette.action.hoverOpacity})`:v(a.palette[r].main,a.palette.action.hoverOpacity)},[`&.${o.focusVisible}`]:{backgroundColor:a.vars?`rgba(${a.vars.palette[r].mainChannel} / ${a.vars.palette.action.focusOpacity})`:v(a.palette[r].main,a.palette.action.focusOpacity)},[`& .${o.deleteIcon}`]:{color:a.vars?`rgba(${a.vars.palette[r].mainChannel} / 0.7)`:v(a.palette[r].main,.7),"&:hover, &:active":{color:(a.vars||a).palette[r].main}}}}))]}})),Sa=H("span",{name:"MuiChip",slot:"Label",overridesResolver:(a,i)=>{const{ownerState:r}=a,{size:s}=r;return[i.label,i[`label${l(s)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function U(a){return a.key==="Backspace"||a.key==="Delete"}const Ia=f.forwardRef(function(i,r){const s=fa({props:i,name:"MuiChip"}),{avatar:c,className:h,clickable:d,color:g="default",component:m,deleteIcon:x,disabled:k=!1,icon:y,label:A,onClick:j,onDelete:C,onKeyDown:D,onKeyUp:t,size:n="medium",variant:u="filled",tabIndex:J,skipFocusWhenDisabled:G=!1,...Y}=s,_=f.useRef(null),q=ra(_,r),T=p=>{p.stopPropagation(),C&&C(p)},Q=p=>{p.currentTarget===p.target&&U(p)&&p.preventDefault(),D&&D(p)},X=p=>{p.currentTarget===p.target&&C&&U(p)&&C(p),t&&t(p)},N=d!==!1&&j?!0:d,z=N||C?B:m||"div",O={...s,component:z,disabled:k,size:n,color:g,iconColor:f.isValidElement(y)&&y.props.color||g,onDelete:!!C,clickable:N,variant:u},S=ha(O),Z=z===B?{component:m||"div",focusVisibleClassName:S.focusVisible,...C&&{disableRipple:!0}}:{};let E=null;C&&(E=x&&f.isValidElement(x)?f.cloneElement(x,{className:I(x.props.className,S.deleteIcon),onClick:T}):e.jsx(va,{className:I(S.deleteIcon),onClick:T}));let M=null;c&&f.isValidElement(c)&&(M=f.cloneElement(c,{className:I(S.avatar,c.props.className)}));let V=null;return y&&f.isValidElement(y)&&(V=f.cloneElement(y,{className:I(S.icon,y.props.className)})),e.jsxs($a,{as:z,className:I(S.root,h),disabled:N&&k?!0:void 0,onClick:j,onKeyDown:Q,onKeyUp:X,ref:q,tabIndex:G&&k?-1:J,ownerState:O,...Z,...Y,children:[M||V,e.jsx(Sa,{className:I(S.label),ownerState:O,children:A}),E]})}),ka=L(e.jsx("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment"),ja=L(e.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite"),Da=()=>{const[a,i]=f.useState([]),[r,s]=f.useState(!0),[c,h]=f.useState(null),d=xa(),g=Ca(),[m,x]=f.useState(!1);f.useEffect(()=>{const t=async()=>{try{s(!0);const u=ea();i(u)}catch(u){h("Error loading applications: "+u.message)}finally{s(!1)}};t();const n=u=>{u.key==="applications"&&t()};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}},[g.pathname]);const k=()=>{x(!0)},y=()=>{x(!1)},A=t=>{x(!1),t==="marriage"?d("/MarriageDashboard"):t==="birth"&&d("/BirthCertificateDashboard")},j=t=>{switch(t){case"Approved":return"#4caf50";case"Pending":return"#ff9800";case"Declined":return"#f44336";default:return"#184a5b"}},C=t=>{switch(t){case"Approved":return"rgba(76, 175, 80, 0.1)";case"Pending":return"rgba(255, 152, 0, 0.1)";case"Declined":return"rgba(244, 67, 54, 0.1)";default:return"rgba(24, 74, 91, 0.1)"}},D=t=>{if(t.type==="Birth Certificate")try{const n=a.find(u=>u.id===t.id);n&&n.formData?(localStorage.setItem("birthCertificateApplication",JSON.stringify(n.formData)),localStorage.setItem("currentApplicationId",t.id),d("/BirthApplicationSummary")):(console.error("Application data not found for ID:",t.id),alert("Could not load application data. Please try again."))}catch(n){console.error("Error preparing application summary:",n),alert("An error occurred while loading the application summary.")}else if(t.type==="Marriage Certificate")try{const n=a.find(u=>u.id===t.id);n&&n.formData?(localStorage.setItem("marriageFormData",JSON.stringify(n.formData)),localStorage.setItem("currentMarriageApplicationId",t.id),d("/MarriageSummaryForm")):(console.error("Marriage application data not found for ID:",t.id),alert("Could not load marriage application data. Please try again."))}catch(n){console.error("Error preparing marriage application summary:",n),alert("An error occurred while loading the marriage application summary.")}else if(t.type==="Marriage License")try{const n=a.find(u=>u.id===t.id);n&&n.formData?(localStorage.setItem("marriageFormData",JSON.stringify(n.formData)),d("/MarriageLicenseSummary")):(console.error("Marriage license data not found"),alert("Could not load marriage license data. Please try again."))}catch(n){console.error("Error preparing marriage license summary:",n),alert("An error occurred while loading the marriage license summary.")}};return r?e.jsxs($,{className:"LoadingContainerApplications",children:[e.jsx(oa,{size:30,sx:{color:"#184a5b"}}),e.jsx(b,{variant:"body2",sx:{mt:1,color:"#666"},children:"Loading recent applications..."})]}):c?e.jsx($,{className:"ErrorContainerApplications",children:e.jsx(ta,{severity:"error",children:c})}):a.length===0?e.jsxs("div",{className:"RecentApplicationsDivider",children:[e.jsx(b,{variant:"h5",className:"RecentApplicationsTitle",children:"RECENT APPLICATIONS"}),e.jsx(W,{className:"NoApplicationsCard",elevation:0,children:e.jsxs(F,{children:[e.jsx(b,{variant:"body1",sx:{color:"#555",mb:2},children:"You have no recent applications."}),e.jsx(w,{variant:"contained",sx:{backgroundColor:"#184a5b","&:hover":{backgroundColor:"#0d3542"},textTransform:"none",borderRadius:"6px"},className:"StartApplicationBtn",onClick:k,children:"Start a New Application"}),e.jsxs(la,{open:m,onClose:y,maxWidth:"xs",fullWidth:!0,PaperProps:{sx:{borderRadius:"8px",overflow:"hidden"}},children:[e.jsxs(na,{sx:{backgroundColor:"#184a5b",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center",py:1.5},children:["Select Application Type",e.jsx(ia,{onClick:y,sx:{color:"white"},children:e.jsx(aa,{})})]}),e.jsx(sa,{sx:{p:0},children:e.jsxs(ca,{spacing:0,divider:e.jsx(K,{}),children:[e.jsxs(w,{onClick:()=>A("marriage"),sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",textTransform:"none",p:2,borderRadius:0,"&:hover":{backgroundColor:"rgba(138, 172, 181, 0.1)"}},children:[e.jsx(ja,{sx:{mr:2,color:"#8aacb5"}}),e.jsxs($,{textAlign:"left",children:[e.jsx(b,{sx:{fontWeight:500,color:"#184a5b"},children:"Marriage Certificate"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Apply for a marriage certificate or license"})]})]}),e.jsxs(w,{onClick:()=>A("birth"),sx:{display:"flex",justifyContent:"flex-start",alignItems:"center",textTransform:"none",p:2,borderRadius:0,"&:hover":{backgroundColor:"rgba(138, 172, 181, 0.1)"}},children:[e.jsx(ka,{sx:{mr:2,color:"#8aacb5"}}),e.jsxs($,{textAlign:"left",children:[e.jsx(b,{sx:{fontWeight:500,color:"#184a5b"},children:"Birth Certificate"}),e.jsx(b,{variant:"body2",color:"text.secondary",children:"Apply for a birth certificate"})]})]})]})})]})]})})]}):e.jsxs("div",{className:"RecentApplicationsDivider",children:[e.jsx(b,{variant:"h5",className:"RecentApplicationsTitle",children:"RECENT APPLICATIONS"}),e.jsx(K,{sx:{mb:2}}),e.jsx(da,{disablePadding:!0,className:"applicationList",children:a.map((t,n)=>e.jsx(pa,{disablePadding:!0,sx:{mb:1.5},className:"applicationListItem",children:e.jsx(W,{className:"ApplicationCard",elevation:0,sx:{borderLeft:`3px solid ${j(t.status)}`,width:"100%",height:"auto",backgroundColor:"#fff",transition:"transform 0.2s","&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"}},children:e.jsx(F,{sx:{py:1.5,px:2},children:e.jsxs(P,{container:!0,alignItems:"center",spacing:1,children:[e.jsx(P,{item:!0,xs:12,sm:7,children:e.jsxs($,{children:[e.jsxs($,{display:"flex",alignItems:"center",mb:.5,children:[e.jsx(b,{className:"ApplicationCardTitle",onClick:()=>D(t),sx:{fontSize:"0.95rem",fontWeight:500,color:"#184a5b",cursor:"pointer","&:hover":{textDecoration:"underline"}},children:t.type}),e.jsx(Ia,{label:t.status,size:"small",sx:{ml:1,height:"20px",fontSize:"0.7rem",fontWeight:500,backgroundColor:C(t.status),color:j(t.status),borderRadius:"4px","& .MuiChip-label":{px:1}}})]}),e.jsxs($,{display:"flex",alignItems:"center",mb:.5,children:[e.jsxs(b,{className:"ApplicationId",sx:{fontSize:"0.75rem",color:"#666",mr:1.5},children:["ID: ",t.id||"N/A"]}),e.jsx(b,{className:"ApplicationDate",sx:{fontSize:"0.75rem",color:"#666"},children:t.date})]}),t.message&&e.jsx(b,{className:"ApplicationDescription",sx:{fontSize:"0.8rem",color:"#555",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:t.message})]})}),e.jsx(P,{item:!0,xs:12,sm:5,children:e.jsx($,{display:"flex",justifyContent:"flex-end",children:e.jsx(w,{size:"small",className:"ViewSummaryBtn",onClick:()=>D(t),sx:{color:"#184a5b",border:"1px solid #8aacb5",textTransform:"none",fontSize:"0.75rem",py:.5,minWidth:"100px","&:hover":{backgroundColor:"rgba(24, 74, 91, 0.04)"}},children:"View Application"})})})]})})})},t.id||n))})]})};Da.__docgenInfo={description:"",methods:[],displayName:"RecentApplicationsComponent"};export{Da as R};

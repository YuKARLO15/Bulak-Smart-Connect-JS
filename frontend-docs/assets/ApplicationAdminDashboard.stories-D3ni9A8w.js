import{j as t}from"./jsx-runtime-ADgNcF8R.js";import{r as l}from"./iframe-DK1y04Ng.js";import{c as te}from"./createSvgIcon-BYikzphh.js";import{g as U}from"./ApplicationData-DCHunuve.js";import{N as ae}from"./NavSide-ByT1T0FM.js";import{A as se}from"./ApplicationLineChart-BSVnlcSr.js";import{B as m}from"./Box-DDoIQZtm.js";import{C as oe}from"./CircularProgress-DGUkJBVb.js";import{T as g}from"./Typography-CYdwMn8V.js";import{A as ie}from"./Alert-B7wIDnj4.js";import{C as W}from"./Card--UtrwS-m.js";import{C as F}from"./CardContent-DLKbTG4E.js";import{B as I}from"./Button-Jf2bfJLe.js";import{I as re}from"./IconButton-TKqQSHg8.js";import{c as j}from"./clsx-B-dksMZM.js";import{b as D,g as T,d as C,v as ne,u as le,a as P}from"./identifier-BVXmwU02.js";import{u as N,s as w,c as M,m as L}from"./DefaultPropsProvider-DJcgvS5y.js";import{P as ce}from"./Paper-DbVLDYSJ.js";import{u as pe}from"./chunk-AYJ5UCUI-BNhOGDwc.js";import"./AuthContext-DzYDWVWZ.js";import"./Close-C-jf9Jsl.js";import"./Description-DkJFw6Gx.js";import"./Campaign-BizuL4VV.js";import"./generateCategoricalChart-C8PUShCW.js";import"./index-Du_Wryqj.js";import"./LineChart-BwSEyAJg.js";import"./useTheme-DkEzB1vm.js";import"./createSimplePaletteValueFilter-Dpj8v-sF.js";import"./useSlot-BJiBpOaU.js";import"./useTheme-nvBBIMAU.js";const Z=l.createContext();function de(e){return D("MuiTable",e)}T("MuiTable",["root","stickyHeader"]);const he=e=>{const{classes:a,stickyHeader:o}=e;return M({root:["root",o&&"stickyHeader"]},de,a)},me=w("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,o.stickyHeader&&a.stickyHeader]}})(L(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:a})=>a.stickyHeader,style:{borderCollapse:"separate"}}]}))),_="table",ue=l.forwardRef(function(a,o){const n=N({props:a,name:"MuiTable"}),{className:p,component:r=_,padding:d="normal",size:c="medium",stickyHeader:h=!1,...f}=n,u={...n,component:r,padding:d,size:c,stickyHeader:h},x=he(u),R=l.useMemo(()=>({padding:d,size:c,stickyHeader:h}),[d,c,h]);return t.jsx(Z.Provider,{value:R,children:t.jsx(me,{as:r,role:r===_?null:"table",ref:o,className:j(x.root,p),ownerState:u,...f})})}),z=l.createContext();function ge(e){return D("MuiTableBody",e)}T("MuiTableBody",["root"]);const fe=e=>{const{classes:a}=e;return M({root:["root"]},ge,a)},ve=w("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,a)=>a.root})({display:"table-row-group"}),xe={variant:"body"},X="tbody",be=l.forwardRef(function(a,o){const n=N({props:a,name:"MuiTableBody"}),{className:p,component:r=X,...d}=n,c={...n,component:r},h=fe(c);return t.jsx(z.Provider,{value:xe,children:t.jsx(ve,{className:j(h.root,p),as:r,ref:o,role:r===X?null:"rowgroup",ownerState:c,...d})})});function ye(e){return D("MuiTableCell",e)}const Ae=T("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Ce=e=>{const{classes:a,variant:o,align:n,padding:p,size:r,stickyHeader:d}=e,c={root:["root",o,d&&"stickyHeader",n!=="inherit"&&`align${C(n)}`,p!=="normal"&&`padding${C(p)}`,`size${C(r)}`]};return M(c,ye,a)},je=w("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,a[o.variant],a[`size${C(o.size)}`],o.padding!=="normal"&&a[`padding${C(o.padding)}`],o.align!=="inherit"&&a[`align${C(o.align)}`],o.stickyHeader&&a.stickyHeader]}})(L(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?ne(P(e.palette.divider,1),.88):le(P(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Ae.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:a})=>a.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),v=l.forwardRef(function(a,o){const n=N({props:a,name:"MuiTableCell"}),{align:p="inherit",className:r,component:d,padding:c,scope:h,size:f,sortDirection:u,variant:x,...R}=n,i=l.useContext(Z),B=l.useContext(z),H=B&&B.variant==="head";let b;d?b=d:b=H?"th":"td";let y=h;b==="td"?y=void 0:!y&&H&&(y="col");const A=x||B&&B.variant,$={...n,align:p,component:b,padding:c||(i&&i.padding?i.padding:"normal"),size:f||(i&&i.size?i.size:"medium"),sortDirection:u,stickyHeader:A==="head"&&i&&i.stickyHeader,variant:A},E=Ce($);let s=null;return u&&(s=u==="asc"?"ascending":"descending"),t.jsx(je,{as:b,ref:o,className:j(E.root,r),"aria-sort":s,scope:y,ownerState:$,...R})});function De(e){return D("MuiTableContainer",e)}T("MuiTableContainer",["root"]);const Te=e=>{const{classes:a}=e;return M({root:["root"]},De,a)},Ne=w("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,a)=>a.root})({width:"100%",overflowX:"auto"}),we=l.forwardRef(function(a,o){const n=N({props:a,name:"MuiTableContainer"}),{className:p,component:r="div",...d}=n,c={...n,component:r},h=Te(c);return t.jsx(Ne,{ref:o,as:r,className:j(h.root,p),ownerState:c,...d})});function Me(e){return D("MuiTableHead",e)}T("MuiTableHead",["root"]);const Re=e=>{const{classes:a}=e;return M({root:["root"]},Me,a)},Be=w("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,a)=>a.root})({display:"table-header-group"}),Se={variant:"head"},J="thead",ke=l.forwardRef(function(a,o){const n=N({props:a,name:"MuiTableHead"}),{className:p,component:r=J,...d}=n,c={...n,component:r},h=Re(c);return t.jsx(z.Provider,{value:Se,children:t.jsx(Be,{as:r,className:j(h.root,p),ref:o,role:r===J?null:"rowgroup",ownerState:c,...d})})});function He(e){return D("MuiTableRow",e)}const V=T("MuiTableRow",["root","selected","hover","head","footer"]),$e=e=>{const{classes:a,selected:o,hover:n,head:p,footer:r}=e;return M({root:["root",o&&"selected",n&&"hover",p&&"head",r&&"footer"]},He,a)},Ie=w("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,o.head&&a.head,o.footer&&a.footer]}})(L(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${V.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${V.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:P(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:P(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),G="tr",q=l.forwardRef(function(a,o){const n=N({props:a,name:"MuiTableRow"}),{className:p,component:r=G,hover:d=!1,selected:c=!1,...h}=n,f=l.useContext(z),u={...n,component:r,hover:d,selected:c,head:f&&f.variant==="head",footer:f&&f.variant==="footer"},x=$e(u);return t.jsx(Ie,{as:r,ref:o,className:j(x.root,p),role:r===G?null:"row",ownerState:u,...h})}),Pe=te(t.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),O=()=>{const[e,a]=l.useState("All"),[o,n]=l.useState([]),[p,r]=l.useState([]),[d,c]=l.useState(!0),[h,f]=l.useState(null),u=pe(),[x,R]=l.useState(!1);l.useEffect(()=>{try{c(!0);const s=U();n(s)}catch(s){f("Error loading applications: "+s.message)}finally{c(!1)}},[]);const[i,B]=l.useState({Birth:[15,20,10,25,30,22,28,35,32,40,45,50],Marriage:[20,25,15,18,20,25,22,28,30,32,28,35]});l.useEffect(()=>{const s=S=>{if(S.key==="applications"){const ee=U();n(ee)}};return window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}},[]);const H=o.filter(s=>s.status==="Pending").length,b=o.filter(s=>s.status==="Approved").length,y=o.filter(s=>s.status==="Decline"||s.status==="Decline").length;l.useEffect(()=>{try{r(e==="All"?o:o.filter(s=>s.status===e||e==="Denied"&&s.status==="Decline"||e==="Decline"&&s.status==="Denied"))}catch(s){f("Error filtering applications: "+s.message)}},[e,o]);const A=s=>{a(s)},$=s=>{if(console.log("Reviewing application:",s.id),s.type==="Birth Certificate")try{localStorage.setItem("currentApplicationId",s.id),u("/ApplicationDetails/"+s.id)}catch(S){console.error("Error preparing for review:",S)}else console.log("Navigating to review for:",s.type),u("/ApplicationDetails/"+s.id)},E=s=>{switch(s){case"Approved":return"approved";case"Pending":return"pending";case"Declined":case"Denied":return"denied";default:return""}};return d?t.jsxs(m,{className:"ApplicationDashLoading",children:[t.jsx(oe,{}),t.jsx(g,{sx:{ml:2},children:"Loading applications..."})]}):h?t.jsx(m,{className:"ApplicationDashError",children:t.jsx(ie,{severity:"error",children:h})}):t.jsxs(m,{className:`ApplicationDashContainer ${x?"sidebar-open":""}`,children:[t.jsx(ae,{isSidebarOpen:x,setIsSidebarOpen:R}),t.jsx(m,{className:"ApplicationDashHeader",children:t.jsx(g,{variant:"h5",className:"ApplicationDashTitle",children:"Applications"})}),t.jsxs(m,{className:"ApplicationDashContent",children:[t.jsx(W,{className:"ApplicationDashOverview",children:t.jsxs(F,{children:[t.jsx(g,{variant:"h6",className:"ApplicationDashSectionTitle",gutterBottom:!0,children:"Application Overview"}),t.jsxs(m,{className:"ApplicationDashStats",children:[t.jsxs(I,{fullWidth:!0,className:`ApplicationDashPendingCard ${e==="Pending"?"active":""}`,onClick:()=>A("Pending"),children:[t.jsx(m,{className:"ApplicationDashIcon pending",children:t.jsx(m,{className:"ApplicationDashCircleIcon pending"})}),t.jsx(g,{className:"ApplicationDashLabel",children:"APPLICATION PENDING"}),t.jsx(g,{className:"ApplicationDashCount",children:H})]}),t.jsxs(I,{fullWidth:!0,className:`ApplicationDashApprovedCard ${e==="Approved"?"active":""}`,onClick:()=>A("Approved"),children:[t.jsx(m,{className:"ApplicationDashIcon approved",children:t.jsx(m,{className:"ApplicationDashCircleIcon approved"})}),t.jsx(g,{className:"ApplicationDashLabel",children:"APPLICATION APPROVED"}),t.jsx(g,{className:"ApplicationDashCount",children:b})]}),t.jsxs(I,{fullWidth:!0,className:`ApplicationDashDeniedCard ${e==="Denied"?"active":""}`,onClick:()=>A("Denied"),children:[t.jsx(m,{className:"ApplicationDashIcon denied",children:t.jsx(m,{className:"ApplicationDashCircleIcon denied"})}),t.jsx(g,{className:"ApplicationDashLabel",children:"APPLICATION DENIED"}),t.jsx(g,{className:"ApplicationDashCount",children:y})]})]})]})}),t.jsx(W,{className:"ApplicationDashChart",children:t.jsxs(F,{children:[t.jsx(g,{variant:"h6",className:"ApplicationDashSectionTitle",gutterBottom:!0,children:"Application Trends"}),t.jsx(g,{variant:"body2",sx:{color:"rgba(0,0,0,0.6)",marginBottom:2},children:"Monthly application statistics"}),t.jsx(se,{data:[{name:"Feb",Birth:i.Birth[1],Marriage:i.Marriage[1]},{name:"Mar",Birth:i.Birth[2],Marriage:i.Marriage[2]},{name:"Apr",Birth:i.Birth[3],Marriage:i.Marriage[3]},{name:"May",Birth:i.Birth[4],Marriage:i.Marriage[4]},{name:"Jun",Birth:i.Birth[5],Marriage:i.Marriage[5]},{name:"Jul",Birth:i.Birth[6],Marriage:i.Marriage[6]},{name:"Aug",Birth:i.Birth[7],Marriage:i.Marriage[7]},{name:"Sep",Birth:i.Birth[8],Marriage:i.Marriage[8]},{name:"Oct",Birth:i.Birth[9],Marriage:i.Marriage[9]},{name:"Nov",Birth:i.Birth[10],Marriage:i.Marriage[10]},{name:"Dec",Birth:i.Birth[11],Marriage:i.Marriage[11]}]})]})})]}),t.jsxs(m,{className:"ApplicationDashTableSection",sx:{maxWidth:"80vw",overflowX:"hidden"},children:[t.jsxs(m,{className:"ApplicationDashTableHeader",children:[t.jsx(g,{variant:"h6",className:"ApplicationDashTableTitle",children:"Submitted Applications"}),t.jsx(re,{className:"ApplicationDashFilterButton",size:"small",children:t.jsx(Pe,{fontSize:"small"})})]}),t.jsx(m,{className:"ApplicationDashTableContent",sx:{maxWidth:"80vw",overflowX:"hidden"},children:p.length===0?t.jsx(m,{className:"ApplicationDashNoData",children:"No applications found for the selected status."}):t.jsx(we,{component:ce,elevation:0,sx:{width:"100%",maxWidth:"80vw",overflowX:"hidden"},children:t.jsxs(ue,{stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed",maxWidth:"100%"},children:[t.jsx(ke,{children:t.jsxs(q,{children:[t.jsx(v,{children:"Type"}),t.jsx(v,{children:"Submitted Date"}),t.jsx(v,{children:"Status"}),t.jsx(v,{children:"ID"}),t.jsx(v,{align:"right",children:"Action"})]})}),t.jsx(be,{children:p.map((s,S)=>t.jsxs(q,{className:"ApplicationDashTableRow",children:[t.jsx(v,{className:"ApplicationDashApplicationType",children:s.type}),t.jsx(v,{className:"ApplicationDashApplicationRef",children:s.date||s.ref||"N/A"}),t.jsx(v,{className:`ApplicationDashApplicationStatus ${E(s.status)}`,children:s.status}),t.jsx(v,{className:"ApplicationDashApplicationId",children:s.id||"N/A"}),t.jsx(v,{className:"ApplicationDashApplicationAction",align:"right",children:t.jsx(I,{size:"small",color:"primary",className:"ApplicationDashReviewButton",onClick:()=>$(s),children:"REVIEW"})})]},s.id||S))})]})})})]})]})};O.__docgenInfo={description:"",methods:[],displayName:"AdminApplicationDashboard"};const mt={title:"Components/ApplicationAdminDashboard",component:O},k=()=>t.jsx(O,{});k.__docgenInfo={description:"",methods:[],displayName:"Default"};var K,Q,Y;k.parameters={...k.parameters,docs:{...(K=k.parameters)==null?void 0:K.docs,source:{originalSource:"() => <ApplicationAdminDashboard />",...(Y=(Q=k.parameters)==null?void 0:Q.docs)==null?void 0:Y.source}}};const ut=["Default"];export{k as Default,ut as __namedExportsOrder,mt as default};

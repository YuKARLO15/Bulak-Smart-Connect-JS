import{j as t}from"./jsx-runtime-ADgNcF8R.js";import{r as c}from"./iframe-DK1y04Ng.js";import{F as l}from"./FileUpload-DgK9g6KF.js";import{N}from"./NavSide-ByT1T0FM.js";import{T as r}from"./Typography-CYdwMn8V.js";import{B as p}from"./Box-DDoIQZtm.js";import{A as j}from"./Alert-B7wIDnj4.js";import{B as I}from"./Button-Jf2bfJLe.js";import{u as A}from"./chunk-AYJ5UCUI-BNhOGDwc.js";import"./AuthContext-DzYDWVWZ.js";import"./createSvgIcon-BYikzphh.js";import"./clsx-B-dksMZM.js";import"./DefaultPropsProvider-DJcgvS5y.js";import"./identifier-BVXmwU02.js";import"./Close-C-jf9Jsl.js";import"./Description-DkJFw6Gx.js";import"./Campaign-BizuL4VV.js";import"./useTheme-DkEzB1vm.js";import"./createSimplePaletteValueFilter-Dpj8v-sF.js";import"./useSlot-BJiBpOaU.js";import"./CircularProgress-DGUkJBVb.js";import"./IconButton-TKqQSHg8.js";import"./Paper-DbVLDYSJ.js";import"./useTheme-nvBBIMAU.js";const f=["Negative Certification from PSA","Self-Affidavit of Out of Town Registration attested by 2 witnesses with ID","Barangay Certification issued by the Punong Barangay as proof of residency and with statement on facts of birth","National ID (if not registered, register first)","Unedited 2x2 front-facing photo (2 pcs) taken within 3 months, white background","Transmittal through the PSO"],d=()=>{const[m,O]=c.useState(!1),[n,S]=c.useState({}),[w,x]=c.useState(!1),D=A(),s=(o,e)=>{S(a=>({...a,[o]:e}))},u=f.every(o=>n[o]),b=()=>{if(u())try{const o=localStorage.getItem("currentApplicationId");if(!o){console.error("No application ID found");return}const e=JSON.parse(localStorage.getItem("applications")||"[]"),a=e.findIndex(v=>v.id===o);if(a===-1){console.error("Application not found:",o);return}e[a]={...e[a],uploadedFiles:n,documentStatus:status,lastUpdated:new Date().toISOString()};const T={...JSON.parse(localStorage.getItem("birthCertificateApplication")||"{}"),uploadedFiles:n,documentStatus:status};localStorage.setItem("applications",JSON.stringify(e)),localStorage.setItem("birthCertificateApplication",JSON.stringify(T)),window.dispatchEvent(new Event("storage")),window.dispatchEvent(new CustomEvent("customStorageUpdate")),x(!0),setTimeout(()=>{D("/BirthApplicationSummary")},2e3)}catch(o){console.error("Error saving uploaded documents:",o),alert("There was a problem saving your documents. Please try again.")}};return t.jsxs("div",{className:`DelayedOutOfTownContainer ${m?"sidebar-open":""}`,children:[t.jsx(N,{isSidebarOpen:m,setIsSidebarOpen:O}),t.jsx(r,{variant:"h5",className:"TitleDelayedOutOfTown",children:"Delayed Registration of Birth (Out of Town)"}),t.jsx(r,{variant:"body1",className:"SectionTitleDelayedOutOfTown",children:"Mandatory Requirements:"}),t.jsx(r,{variant:"body1",className:"PersonalAppearance",children:"Personal Appearance of the Document Owner"}),t.jsx(p,{children:f.map((o,e)=>t.jsx(l,{label:o,onUpload:s},e))}),t.jsx(r,{variant:"body1",className:"SectionTitleDelayedOutOfTown",children:"Any two (2) of the following documents of parents:"}),t.jsx(p,{children:[...Array(2)].map((o,e)=>t.jsx(l,{label:`Parent Document ${e+1}`,onUpload:s},e))}),t.jsx(r,{variant:"body1",className:"SectionTitleDelayedOutOfTown",children:"Any two (2) of the following documentary evidence:"}),t.jsx(p,{children:[...Array(2)].map((o,e)=>t.jsx(l,{label:`Documentary Evidence ${e+1}`,onUpload:s},e))}),w&&t.jsx(j,{severity:"success",sx:{marginTop:"20px"},children:"Your application has been submitted successfully! Redirecting..."}),t.jsx(I,{variant:"contained",color:"primary",disabled:!u,sx:{marginTop:"20px"},onClick:b,className:"ButtonApplication",children:"Submit"})]})};d.__docgenInfo={description:"",methods:[],displayName:"DelayedOutOfTownRegistration"};const et={title:"Components/DelayedOutOfTown",component:d},i=()=>t.jsx(d,{});i.__docgenInfo={description:"",methods:[],displayName:"Default"};var y,g,h;i.parameters={...i.parameters,docs:{...(y=i.parameters)==null?void 0:y.docs,source:{originalSource:"() => <DelayedOutOfTown />",...(h=(g=i.parameters)==null?void 0:g.docs)==null?void 0:h.source}}};const ot=["Default"];export{i as Default,ot as __namedExportsOrder,et as default};

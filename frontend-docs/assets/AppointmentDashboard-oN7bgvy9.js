import{j as e}from"./jsx-runtime-DiYzE0-u.js";import{r as a}from"./iframe-DMJU4vwQ.js";import{C as u}from"./Calendar-DvwGqJQT.js";import{R as f}from"./RecentAppointment-ZeAWw3HV.js";import{A as C}from"./AppointmentContent-a4c6yXzi.js";import{a as y}from"./announcementService-Bpougkim.js";import{B as o}from"./Box-BZWhTzf9.js";import{T as t}from"./Typography-D55c8JUI.js";import{B as g}from"./Button-BL8M-Y5n.js";import{C as r}from"./Card-69MLDq67.js";import{C as l}from"./CardContent-BrLuGZ9r.js";const T=()=>{const[c,s]=a.useState(!1),[m,p]=a.useState(null),[i,d]=a.useState([]),[A,h]=a.useState(!0),x=()=>{s(!0)},N=n=>{n.getDay()!==0&&n.getDay()!==6&&n>=new Date&&(p(n),s(!0))};a.useEffect(()=>{j()},[]);const j=async()=>{try{const n=await y.getRecentAnnouncements(2);d(n)}catch(n){console.error("Failed to load announcements:",n)}finally{h(!1)}};return e.jsx(o,{className:"AppointmentDashboardContainer",children:c?e.jsx(C,{onBack:()=>s(!1),preselectedDate:m}):e.jsxs(e.Fragment,{children:[e.jsxs(o,{className:"HeaderAppointment",children:[e.jsxs(o,{className:"HeaderContentAppointment",children:[e.jsx(t,{variant:"h4",className:"TitleAppointment",children:"SKIP LONG WAITING LINES"}),e.jsx(t,{variant:"h5",className:"TitleAppointment",children:"AND BOOK YOUR APPOINTMENT"})]}),e.jsx(g,{variant:"contained",className:"ButtonAppointment",onClick:x,children:"BOOK APPOINTMENT"})]}),e.jsxs(o,{className:"ContentAppointment",children:[e.jsx(f,{}),e.jsxs(o,{className:"RightSectionAppointment",children:[e.jsx(r,{className:"AvailableSlotsAppointment",children:e.jsxs(l,{children:[e.jsx(t,{variant:"h6",className:"SectionTitleAppointment",children:"AVAILABLE SLOTS"}),e.jsx(u,{className:"CalendarAppointment",onChange:N,tileDisabled:({date:n})=>n.getDay()===0||n.getDay()===6||n<new Date}),e.jsx(t,{variant:"body2",className:"CalendarHelperText",children:"Click on a date to book an appointment"})]})}),e.jsx(r,{className:"AnnouncementAppointment",children:e.jsxs(l,{children:[e.jsx(t,{variant:"h6",className:"SectionTitleAppointment",children:"ANNOUNCEMENT"}),A?e.jsx(t,{variant:"body1",className:"AnnouncementTextAppointment",children:"Loading..."}):i.length>0?i.map(n=>e.jsxs("div",{style:{marginBottom:"10px",padding:"10px",borderBottom:"1px solid #eee"},children:[e.jsx(t,{variant:"subtitle2",style:{fontWeight:"bold"},className:"AnnouncementTextAppointment",children:n.title}),e.jsx(t,{variant:"body2",style:{marginTop:"5px"},className:"AnnouncementTextAppointment",children:n.description})]},n.id)):e.jsx(t,{variant:"body2",style:{color:"#666",fontStyle:"italic"},children:"No announcements available"})]})})]})]})]})})};T.__docgenInfo={description:"",methods:[],displayName:"AppointmentDashboard"};export{T as A};

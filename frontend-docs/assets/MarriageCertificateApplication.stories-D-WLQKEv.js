import{j as t}from"./jsx-runtime-ADgNcF8R.js";import{r}from"./iframe-DK1y04Ng.js";import{F as A}from"./FileUpload-DgK9g6KF.js";import{N as y}from"./NavSide-ByT1T0FM.js";import{u as F}from"./ApplicationData-DCHunuve.js";import{T as n}from"./Typography-CYdwMn8V.js";import{B as v}from"./Box-DDoIQZtm.js";import{A as B}from"./Alert-B7wIDnj4.js";import{B as u}from"./Button-Jf2bfJLe.js";import{u as T}from"./chunk-AYJ5UCUI-BNhOGDwc.js";import"./AuthContext-DzYDWVWZ.js";import"./createSvgIcon-BYikzphh.js";import"./clsx-B-dksMZM.js";import"./DefaultPropsProvider-DJcgvS5y.js";import"./identifier-BVXmwU02.js";import"./Close-C-jf9Jsl.js";import"./Description-DkJFw6Gx.js";import"./Campaign-BizuL4VV.js";import"./useTheme-DkEzB1vm.js";import"./createSimplePaletteValueFilter-Dpj8v-sF.js";import"./useSlot-BJiBpOaU.js";import"./CircularProgress-DGUkJBVb.js";import"./IconButton-TKqQSHg8.js";import"./Paper-DbVLDYSJ.js";import"./useTheme-nvBBIMAU.js";const f=["Marriage License","Valid ID of Bride","Valid ID of Groom","Certificate of Marriage from the Officiant"],m=()=>{const[p,h]=r.useState(!1),[o,b]=r.useState({}),[I,S]=r.useState(!1),[l,M]=r.useState({}),s=T();r.useEffect(()=>{const e=JSON.parse(localStorage.getItem("marriageFormData")||"{}");M(e)},[]);const D=(e,a)=>{b(c=>({...c,[e]:a}))},d=f.every(e=>o[e]),N=()=>{if(d)try{const e=l.applicationId||localStorage.getItem("currentApplicationId");if(!e){console.error("No application ID found"),alert("Error submitting application: No application ID found. Please start over."),s("/MarriageDashboard");return}const a={...l,uploadedFiles:o};F(e,{documents:Object.keys(o).filter(c=>o[c]),status:"Pending",formData:a}),localStorage.setItem("currentApplicationId",e),localStorage.removeItem("marriageFormData"),S(!0),setTimeout(()=>{s("/MarriageSummaryForm")},2e3)}catch(e){console.error("Error submitting application:",e),alert("Error submitting application. Please try again.")}else alert("Please upload the required documents before submitting.")},j=()=>{s("/MarriageCertificateForm")};return t.jsxs("div",{className:`MarriageCertificateContainer ${p?"sidebar-open":""}`,children:[t.jsx(y,{isSidebarOpen:p,setIsSidebarOpen:h}),t.jsx(n,{variant:"h5",className:"TitleMarriageCertificate",children:"MARRIAGE CERTIFICATE APPLICATION"}),t.jsx(n,{className:"SubtitleMarriageCertificate",children:"Request for Marriage Certificate"}),t.jsxs(v,{className:"DocumentsSectionMarriageCertificate",children:[t.jsx(n,{variant:"body1",className:"SectionTitleMarriageCertificate",children:"Required Documents:"}),f.map((e,a)=>t.jsx(A,{label:e,onUpload:D},a))]}),I&&t.jsx(B,{severity:"success",sx:{marginTop:"20px"},children:"Your application has been submitted successfully! Redirecting..."}),t.jsxs("div",{className:"ButtonContainerMarriageCertificate",children:[t.jsx(u,{variant:"contained",color:"secondary",sx:{marginTop:"20px",marginRight:"10px"},onClick:j,className:"BackButtonMarriageCertificate",children:"Back"}),t.jsx(u,{variant:"contained",color:"primary",disabled:!d,sx:{marginTop:"20px"},onClick:N,className:"SubmitButtonMarriageCertificate",children:"Submit"})]})]})};m.__docgenInfo={description:"",methods:[],displayName:"MarriageCertificateApplication"};const re={title:"Components/MarriageCertificateApplication",component:m},i=()=>t.jsx(m,{});i.__docgenInfo={description:"",methods:[],displayName:"Default"};var g,x,C;i.parameters={...i.parameters,docs:{...(g=i.parameters)==null?void 0:g.docs,source:{originalSource:"() => <MarriageCertificateApplication />",...(C=(x=i.parameters)==null?void 0:x.docs)==null?void 0:C.source}}};const ie=["Default"];export{i as Default,ie as __namedExportsOrder,re as default};

import{j as a}from"./jsx-runtime-BQ3NsQ6b.js";import{r as s}from"./iframe-DlZyR-3o.js";import{E as S}from"./Edit-pOKMi2Lt.js";import{B as D}from"./Box-kW_oYhdJ.js";import{T as F}from"./Typography-zMzzW-gN.js";import{B as c}from"./Button-KDMn5JJ-.js";import{D as V,a as B,b as E}from"./DialogTitle-CXJjzEBj.js";import{D as T}from"./DialogContentText-DTHqhJHO.js";import{T as P}from"./TextField-BzlN0Cm6.js";import{D as _}from"./DialogActions-CxdFPOXW.js";import{u as L}from"./chunk-AYJ5UCUI-CYK0uUV1.js";import"./createSvgIcon-B1mfXgi4.js";import"./clsx-B-dksMZM.js";import"./DefaultPropsProvider-Cqs54V2y.js";import"./identifier-B6pg45cx.js";import"./useTheme-CnXjXBB5.js";import"./createSimplePaletteValueFilter-D9fbgT6T.js";import"./CircularProgress-Z1EmvMCU.js";import"./useTheme-C_z8Hb-H.js";import"./useSlot-DRlPGcg5.js";import"./Paper-CQ3AIqLg.js";import"./Modal-GUzRxm08.js";import"./utils-BzjUqjuo.js";import"./index-CMfjvWDs.js";import"./index-At_nYyGx.js";import"./createChainedFunction-BO_9K8Jh.js";import"./OutlinedInput-tnLxy9v6.js";import"./useFormControl-CzKJeGAE.js";import"./isHostComponent-DVu5iVWx.js";import"./utils-DoM3o7-Q.js";import"./debounce-Be36O1Ab.js";import"./Menu-DTggLvN5.js";import"./useSlotProps-DVBqtilZ.js";import"./Grow-QyQtl8jD.js";import"./mergeSlotProps-By6iUkp4.js";import"./List-MvMjZnft.js";import"./useControlled-BDHiYt_e.js";import"./FormControl-BxJ03_xh.js";import"./isMuiElement-CK1xQtxW.js";const d=()=>{const[e,j]=s.useState({}),[g,M]=s.useState(!0),[i,N]=s.useState(""),[f,m]=s.useState(!1),[b,u]=s.useState(""),n=L();s.useEffect(()=>{try{const r=localStorage.getItem("currentApplicationId");r&&N(r);const t=localStorage.getItem("marriageFormData");t&&j(JSON.parse(t))}catch(r){console.error("Error loading form data:",r)}finally{M(!1)}},[]);const v=()=>{try{if(m(!1),!i){alert("No application ID found. Cannot cancel application.");return}console.log("Attempting to cancel application with ID:",i);const r=JSON.parse(localStorage.getItem("applications")||"[]");if(console.log("Current applications:",r),!r.some(o=>o.id===i)){console.log("Application not found with ID:",i),alert("Application not found. Cannot cancel application.");return}const h=r.filter(o=>o.id!==i);console.log("Applications after filtering:",h),localStorage.setItem("applications",JSON.stringify(h)),localStorage.removeItem("marriageFormData"),localStorage.removeItem("currentApplicationId"),localStorage.removeItem(`uploadedFiles_${i}`);const I=new CustomEvent("applicationCancelled",{detail:{id:i}});window.dispatchEvent(new Event("storage")),window.dispatchEvent(I),console.log("Application cancelled event dispatched for ID:",i),u(""),alert("Your application has been cancelled and removed successfully."),n("/ApplicationForm")}catch(r){console.error("Error cancelling application:",r),alert("An error occurred while cancelling the application. Please try again.")}},C=r=>{u(r.target.value)},w=()=>{n("/MarriageForm")},R=()=>{n("/ApplicationForm")},A=()=>{try{console.log("Current formData:",e);const r=e.applicationId||e.id;if(console.log("Application ID for editing:",r),r){const t={...e,applicationId:r};localStorage.setItem("marriageFormData",JSON.stringify(t))}else console.warn("No application ID found for editing"),localStorage.setItem("marriageFormData",JSON.stringify(e));localStorage.setItem("isEditingMarriageForm","true"),localStorage.setItem("editingMarriageType","Marriage Certificate"),localStorage.setItem("currentEditingApplicationId",r),localStorage.setItem("selectedMarriageOption","Marriage Certificate"),n("/MarriageForm")}catch(r){console.error("Error setting up modification:",r),alert("There was a problem preparing the form for editing. Please try again.")}};return g?a.jsx("div",{className:"MarriageSummaryContainerMSummary",children:"Loading..."}):a.jsxs("div",{className:"MarriageSummaryContainer",children:[e.lastUpdated&&a.jsxs(D,{sx:{backgroundColor:"#e3f2fd",padding:"10px 15px",borderRadius:"8px",margin:"0 auto 20px auto",maxWidth:"80%",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[a.jsx(S,{fontSize:"small",sx:{color:"#184a5b"}}),a.jsxs(F,{variant:"body2",sx:{color:"#184a5b"},children:["This application was last modified on ",new Date(e.lastUpdated).toLocaleString()]})]}),a.jsxs("div",{className:"MarriageSummaryContainerMSummary",children:[a.jsxs("div",{className:"FormHeaderMSummary",children:["Municipal Form No. 97",a.jsx("br",{}),"(Revised August 2016)"]}),a.jsx("div",{className:"RegistryNoMSummary",children:"Registry No. _________"}),a.jsxs("div",{className:"MarriageHeaderMSummary",children:[a.jsx("p",{className:"RepublicTextMSummary",children:"Republic of the Philippines"}),a.jsx("p",{className:"OfficeTextMSummary",children:"OFFICE OF THE CIVIL REGISTRAR GENERAL"}),a.jsx("p",{className:"CertificateTitleMSummary",children:"CERTIFICATE OF MARRIAGE"})]}),a.jsx("table",{className:"SummarySectionMSummary",children:a.jsxs("tbody",{children:[a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryLabelMSummary",children:"Province"}),a.jsx("td",{className:"SummaryValueMSummary",children:"Bulacan"}),a.jsx("td",{className:"SummaryLabelMSummary",style:{borderLeft:"1px solid #d14747"},children:"Registry No."})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryLabelMSummary",children:"City/Municipality"}),a.jsx("td",{className:"SummaryValueMSummary",colSpan:"2",children:"San Ildefonso"})]})]})}),a.jsx("table",{className:"HusbandWifeTableMSummary",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{className:"HusbandWifeHeaderMSummary",children:"HUSBAND"}),a.jsx("td",{className:"HusbandWifeHeaderMSummary",children:"WIFE"})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryValueMSummary",children:a.jsx("div",{children:"1. Name of Contracting Parties"})}),a.jsx("td",{className:"SummaryValueMSummary",children:a.jsx("div",{children:"1. Name of Contracting Parties"})})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryValueMSummary",children:e.husbandFirstName||""}),a.jsx("td",{className:"SummaryValueMSummary",children:e.wifeFirstName||""})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryValueMSummary",children:e.husbandMiddleName||""}),a.jsx("td",{className:"SummaryValueMSummary",children:e.wifeMiddleName||""})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryValueMSummary",children:e.husbandLastName||""}),a.jsx("td",{className:"SummaryValueMSummary",children:e.wifeLastName||""})]}),a.jsx("tr",{className:"SummaryRowMSummary",children:a.jsx("td",{colSpan:"2",children:a.jsxs("table",{className:"DateTableMSummary",children:[a.jsxs("thead",{children:[a.jsxs("tr",{children:[a.jsx("th",{colSpan:"3",children:"2a. Date of Birth"}),a.jsx("th",{colSpan:"3",children:"2a. Date of Birth"})]}),a.jsxs("tr",{children:[a.jsx("th",{children:"Day"}),a.jsx("th",{children:"Month"}),a.jsx("th",{children:"Year"}),a.jsx("th",{children:"Day"}),a.jsx("th",{children:"Month"}),a.jsx("th",{children:"Year"})]})]}),a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("td",{children:e.husbandBirthDay||""}),a.jsx("td",{children:e.husbandBirthMonth||""}),a.jsx("td",{children:e.husbandBirthYear||""}),a.jsx("td",{children:e.wifeBirthDay||""}),a.jsx("td",{children:e.wifeBirthMonth||""}),a.jsx("td",{children:e.wifeBirthYear||""})]})})]})})}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:"2b. Age"}),a.jsx("div",{children:e.husbandAge||""})]}),a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:"2b. Age"}),a.jsx("div",{children:e.wifeAge||""})]})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryValueMSummary",children:a.jsx("div",{children:"3. Place of Birth"})}),a.jsx("td",{className:"SummaryValueMSummary",children:a.jsx("div",{children:"3. Place of Birth"})})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryValueMSummary",children:e.husbandBirthCity||""}),a.jsx("td",{className:"SummaryValueMSummary",children:e.wifeBirthCity||""})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryValueMSummary",children:e.husbandBirthProvince||""}),a.jsx("td",{className:"SummaryValueMSummary",children:e.wifeBirthProvince||""})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryValueMSummary",children:e.husbandBirthCountry||"Philippines"}),a.jsx("td",{className:"SummaryValueMSummary",children:e.wifeBirthCountry||"Philippines"})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:"4a. Sex"}),a.jsx("div",{children:"Male"})]}),a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:"4a. Sex"}),a.jsx("div",{children:"Female"})]})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:"4b. Citizenship"}),a.jsx("div",{children:e.husbandCitizenship||"Filipino"})]}),a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:"4b. Citizenship"}),a.jsx("div",{children:e.wifeCitizenship||"Filipino"})]})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:"5. Residence"}),a.jsxs("div",{children:[e.husbandStreet||"",", ",e.husbandBarangay||"",", ",e.husbandCity||"",", ",e.husbandProvince||""]})]}),a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:"5. Residence"}),a.jsxs("div",{children:[e.wifeStreet||"",", ",e.wifeBarangay||"",", ",e.wifeCity||"",", ",e.wifeProvince||""]})]})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:"6. Religion/Religious Sect"}),a.jsx("div",{children:e.husbandReligion||""})]}),a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:"6. Religion/Religious Sect"}),a.jsx("div",{children:e.wifeReligion||""})]})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:"7. Civil Status"}),a.jsx("div",{children:e.husbandCivilStatus||"Single"})]}),a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:"7. Civil Status"}),a.jsx("div",{children:e.wifeCivilStatus||"Single"})]})]})]})}),a.jsx("table",{className:"SummarySectionMSummary",children:a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{className:"SummarySectionTitleMSummary",colSpan:"2",children:"MARRIAGE DETAILS"})}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryLabelMSummary",children:"15. Place of Marriage"}),a.jsxs("td",{className:"SummaryValueMSummary",children:[a.jsx("div",{children:e.ceremonyType||""}),a.jsxs("div",{children:[e.marriageCity||"",", ",e.marriageProvince||""]})]})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryLabelMSummary",children:"16. Date of Marriage"}),a.jsx("td",{className:"SummaryValueMSummary",children:a.jsx("div",{children:a.jsxs("table",{className:"DateTableMSummary",style:{borderWidth:0},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Day"}),a.jsx("th",{children:"Month"}),a.jsx("th",{children:"Year"})]})}),a.jsx("tbody",{children:a.jsxs("tr",{children:[a.jsx("td",{children:e.marriageDay||""}),a.jsx("td",{children:e.marriageMonth||""}),a.jsx("td",{children:e.marriageYear||""})]})})]})})})]}),a.jsxs("tr",{className:"SummaryRowMSummary",children:[a.jsx("td",{className:"SummaryLabelMSummary",children:"17. Time of Marriage"}),a.jsx("td",{className:"SummaryValueMSummary",children:e.marriageTime||""})]})]})}),a.jsx("table",{className:"SummarySectionMSummary",children:a.jsxs("tbody",{children:[a.jsx("tr",{children:a.jsx("td",{className:"SummarySectionTitleMSummary",colSpan:"2",children:"WITNESSES"})}),a.jsx("tr",{className:"SummaryRowMSummary",children:a.jsx("td",{children:a.jsxs("table",{className:"WitnessesTableMSummary",style:{borderWidth:0},children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{children:"Witness 1:"}),a.jsx("th",{children:"Witness 2:"})]})}),a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:e.witness1Name||"N/A"}),a.jsx("td",{children:e.witness2Name||"N/A"})]}),a.jsxs("tr",{children:[a.jsx("td",{children:e.witness1Address||"N/A"}),a.jsx("td",{children:e.witness2Address||"N/A"})]})]})]})})})]})}),a.jsxs("div",{className:"ActionsContainerMSummary",children:[a.jsx("button",{onClick:w,className:"BackButtonMSummary",children:"Back to Form"}),a.jsx(c,{variant:"contained",onClick:A,className:"ModifyButtonMSummary",startIcon:a.jsx(S,{}),sx:{backgroundColor:"#8aacb5",color:"white",marginLeft:"10px",marginRight:"10px",padding:"6px 16px","&:hover":{backgroundColor:"#6d8a91"}},children:"Modify"}),a.jsx("button",{onClick:R,className:"BackButtonMSummary",children:"Done"}),a.jsx(c,{variant:"contained",color:"error",onClick:()=>m(!0),className:"CancelApplicationButtonAdminAppForm",children:"Cancel Application"})]}),a.jsxs(V,{open:f,onClose:()=>m(!1),children:[a.jsx(B,{children:"Cancel Application"}),a.jsxs(E,{children:[a.jsx(T,{children:"Are you sure you want to cancel this application? This action cannot be undone."}),a.jsx(P,{margin:"normal",label:"Reason for Cancellation",fullWidth:!0,multiline:!0,rows:4,value:b,onChange:C,placeholder:"Please provide a reason for cancellation..."})]}),a.jsxs(_,{children:[a.jsx(c,{onClick:()=>m(!1),color:"primary",children:"No, Keep Application"}),a.jsx(c,{onClick:v,color:"error",variant:"contained",children:"Yes, Cancel Application"})]})]})]})]})};d.__docgenInfo={description:"",methods:[],displayName:"MarriageSummaryForm"};const va={title:"Components/MarriageSummaryForm",component:d},l=()=>a.jsx(d,{});l.__docgenInfo={description:"",methods:[],displayName:"Default"};var y,x,p;l.parameters={...l.parameters,docs:{...(y=l.parameters)==null?void 0:y.docs,source:{originalSource:"() => <MarriageSummaryForm />",...(p=(x=l.parameters)==null?void 0:x.docs)==null?void 0:p.source}}};const Ca=["Default"];export{l as Default,Ca as __namedExportsOrder,va as default};

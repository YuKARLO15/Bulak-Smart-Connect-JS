import{r as i}from"./iframe-8kLQaNlo.js";import{c as ht}from"./clsx-B-dksMZM.js";import{j as N}from"./jsx-runtime-DfA5hJHX.js";import{s as Y,u as gt,c as Pt,r as kt}from"./DefaultPropsProvider-BGCa8MWV.js";import{b as yt,g as vt}from"./createTheme-BKt_9NYe.js";import{r as Dt,m as Lt,a as Ft,u as X}from"./useSlot-DWwYMHEC.js";import{a as nt,c as Ot,u as It}from"./CircularProgress-CB3Oc2Nb.js";import{i as Kt}from"./isHostComponent-DVu5iVWx.js";import{P as zt}from"./Paper-AH_GyJW3.js";import{T as Ht,g as jt,a as ut,r as At,b as Nt,o as Z,c as tt,M as Wt}from"./Modal-BwqBb98e.js";import{d as $t}from"./debounce-Be36O1Ab.js";import{u as Ut}from"./useTheme-FpABPbzD.js";import{m as Gt}from"./mergeSlotProps-By6iUkp4.js";import{L as Vt}from"./List-D61bwtrG.js";function _t(t){var k;const{elementType:e,externalSlotProps:o,ownerState:S,skipResolvingSlotProps:b=!1,...h}=t,d=b?{}:Dt(o,S),{props:m,internalRef:g}=Lt({...h,externalSlotProps:d}),M=nt(g,d==null?void 0:d.ref,(k=t.additionalProps)==null?void 0:k.ref);return Ft(e,{...m,ref:M},S)}const Bt=i.createContext(),Xt=()=>i.useContext(Bt)??!1;function et(t){return`scale(${t}, ${t**2})`}const Yt={entering:{opacity:1,transform:et(1)},entered:{opacity:1,transform:"none"}},q=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ot=i.forwardRef(function(e,o){const{addEndListener:S,appear:b=!0,children:h,easing:d,in:m,onEnter:g,onEntered:M,onEntering:F,onExit:k,onExited:A,onExiting:u,style:v,timeout:C="auto",TransitionComponent:z=Ht,...c}=e,R=Ot(),n=i.useRef(),s=Ut(),a=i.useRef(null),D=nt(a,jt(h),o),x=f=>y=>{if(f){const T=a.current;y===void 0?f(T):f(T,y)}},p=x(F),O=x((f,y)=>{At(f);const{duration:T,delay:L,easing:r}=ut({style:v,timeout:C,easing:d},{mode:"enter"});let P;C==="auto"?(P=s.transitions.getAutoHeightDuration(f.clientHeight),n.current=P):P=T,f.style.transition=[s.transitions.create("opacity",{duration:P,delay:L}),s.transitions.create("transform",{duration:q?P:P*.666,delay:L,easing:r})].join(","),g&&g(f,y)}),j=x(M),I=x(u),H=x(f=>{const{duration:y,delay:T,easing:L}=ut({style:v,timeout:C,easing:d},{mode:"exit"});let r;C==="auto"?(r=s.transitions.getAutoHeightDuration(f.clientHeight),n.current=r):r=y,f.style.transition=[s.transitions.create("opacity",{duration:r,delay:T}),s.transitions.create("transform",{duration:q?r:r*.666,delay:q?T:T||r*.333,easing:L})].join(","),f.style.opacity=0,f.style.transform=et(.75),k&&k(f)}),W=x(A),G=f=>{C==="auto"&&R.start(n.current||0,f),S&&S(a.current,f)};return N.jsx(z,{appear:b,in:m,nodeRef:a,onEnter:O,onEntered:j,onEntering:p,onExit:H,onExited:W,onExiting:I,addEndListener:G,timeout:C==="auto"?null:C,...c,children:(f,{ownerState:y,...T})=>i.cloneElement(h,{style:{opacity:0,transform:et(.75),visibility:f==="exited"&&!m?"hidden":void 0,...Yt[f],...v,...h.props.style},ref:D,...T})})});ot&&(ot.muiSupportAuto=!0);function J(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function pt(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function Et(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.startsWith(e.keys.join(""))}function B(t,e,o,S,b,h){let d=!1,m=b(t,e,e?o:!1);for(;m;){if(m===t.firstChild){if(d)return!1;d=!0}const g=S?!1:m.disabled||m.getAttribute("aria-disabled")==="true";if(!m.hasAttribute("tabindex")||!Et(m,h)||g)m=b(t,m,o);else return m.focus(),!0}return!1}const qt=i.forwardRef(function(e,o){const{actions:S,autoFocus:b=!1,autoFocusItem:h=!1,children:d,className:m,disabledItemsFocusable:g=!1,disableListWrap:M=!1,onKeyDown:F,variant:k="selectedMenu",...A}=e,u=i.useRef(null),v=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});It(()=>{b&&u.current.focus()},[b]),i.useImperativeHandle(S,()=>({adjustStyleForScrollbar:(n,{direction:s})=>{const a=!u.current.style.width;if(n.clientHeight<u.current.clientHeight&&a){const D=`${Nt(Z(n))}px`;u.current.style[s==="rtl"?"paddingLeft":"paddingRight"]=D,u.current.style.width=`calc(100% + ${D})`}return u.current}}),[]);const C=n=>{const s=u.current,a=n.key;if(n.ctrlKey||n.metaKey||n.altKey){F&&F(n);return}const x=tt(s).activeElement;if(a==="ArrowDown")n.preventDefault(),B(s,x,M,g,J);else if(a==="ArrowUp")n.preventDefault(),B(s,x,M,g,pt);else if(a==="Home")n.preventDefault(),B(s,null,M,g,J);else if(a==="End")n.preventDefault(),B(s,null,M,g,pt);else if(a.length===1){const p=v.current,O=a.toLowerCase(),j=performance.now();p.keys.length>0&&(j-p.lastTime>500?(p.keys=[],p.repeating=!0,p.previousKeyMatched=!0):p.repeating&&O!==p.keys[0]&&(p.repeating=!1)),p.lastTime=j,p.keys.push(O);const I=x&&!p.repeating&&Et(x,p);p.previousKeyMatched&&(I||B(s,x,!1,g,J,p))?n.preventDefault():p.previousKeyMatched=!1}F&&F(n)},z=nt(u,o);let c=-1;i.Children.forEach(d,(n,s)=>{if(!i.isValidElement(n)){c===s&&(c+=1,c>=d.length&&(c=-1));return}n.props.disabled||(k==="selectedMenu"&&n.props.selected||c===-1)&&(c=s),c===s&&(n.props.disabled||n.props.muiSkipListHighlight||n.type.muiSkipListHighlight)&&(c+=1,c>=d.length&&(c=-1))});const R=i.Children.map(d,(n,s)=>{if(s===c){const a={};return h&&(a.autoFocus=!0),n.props.tabIndex===void 0&&k==="selectedMenu"&&(a.tabIndex=0),i.cloneElement(n,a)}return n});return N.jsx(Vt,{role:"menu",ref:z,className:m,onKeyDown:C,tabIndex:b?0:-1,...A,children:R})});function Jt(t){return yt("MuiPopover",t)}vt("MuiPopover",["root","paper"]);function ft(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.height/2:e==="bottom"&&(o=t.height),o}function dt(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.width/2:e==="right"&&(o=t.width),o}function mt(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Q(t){return typeof t=="function"?t():t}const Qt=t=>{const{classes:e}=t;return Pt({root:["root"],paper:["paper"]},Jt,e)},Zt=Y(Wt,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),wt=Y(zt,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),te=i.forwardRef(function(e,o){const S=gt({props:e,name:"MuiPopover"}),{action:b,anchorEl:h,anchorOrigin:d={vertical:"top",horizontal:"left"},anchorPosition:m,anchorReference:g="anchorEl",children:M,className:F,container:k,elevation:A=8,marginThreshold:u=16,open:v,PaperProps:C={},slots:z={},slotProps:c={},transformOrigin:R={vertical:"top",horizontal:"left"},TransitionComponent:n,transitionDuration:s="auto",TransitionProps:a={},disableScrollLock:D=!1,...x}=S,p=i.useRef(),O={...S,anchorOrigin:d,anchorReference:g,elevation:A,marginThreshold:u,transformOrigin:R,TransitionComponent:n,transitionDuration:s,TransitionProps:a},j=Qt(O),I=i.useCallback(()=>{if(g==="anchorPosition")return m;const l=Q(h),E=(l&&l.nodeType===1?l:tt(p.current).body).getBoundingClientRect();return{top:E.top+ft(E,d.vertical),left:E.left+dt(E,d.horizontal)}},[h,d.horizontal,d.vertical,m,g]),H=i.useCallback(l=>({vertical:ft(l,R.vertical),horizontal:dt(l,R.horizontal)}),[R.horizontal,R.vertical]),W=i.useCallback(l=>{const w={width:l.offsetWidth,height:l.offsetHeight},E=H(w);if(g==="none")return{top:null,left:null,transformOrigin:mt(E)};const _=I();let $=_.top-E.vertical,U=_.left-E.horizontal;const st=$+w.height,it=U+w.width,at=Z(Q(h)),lt=at.innerHeight-u,ct=at.innerWidth-u;if(u!==null&&$<u){const K=$-u;$-=K,E.vertical+=K}else if(u!==null&&st>lt){const K=st-lt;$-=K,E.vertical+=K}if(u!==null&&U<u){const K=U-u;U-=K,E.horizontal+=K}else if(it>ct){const K=it-ct;U-=K,E.horizontal+=K}return{top:`${Math.round($)}px`,left:`${Math.round(U)}px`,transformOrigin:mt(E)}},[h,g,I,H,u]),[G,f]=i.useState(v),y=i.useCallback(()=>{const l=p.current;if(!l)return;const w=W(l);w.top!==null&&l.style.setProperty("top",w.top),w.left!==null&&(l.style.left=w.left),l.style.transformOrigin=w.transformOrigin,f(!0)},[W]);i.useEffect(()=>(D&&window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)),[h,D,y]);const T=()=>{y()},L=()=>{f(!1)};i.useEffect(()=>{v&&y()}),i.useImperativeHandle(b,()=>v?{updatePosition:()=>{y()}}:null,[v,y]),i.useEffect(()=>{if(!v)return;const l=$t(()=>{y()}),w=Z(h);return w.addEventListener("resize",l),()=>{l.clear(),w.removeEventListener("resize",l)}},[h,v,y]);let r=s;const P={slots:{transition:n,...z},slotProps:{transition:a,paper:C,...c}},[V,bt]=X("transition",{elementType:ot,externalForwardedProps:P,ownerState:O,getSlotProps:l=>({...l,onEntering:(w,E)=>{var _;(_=l.onEntering)==null||_.call(l,w,E),T()},onExited:w=>{var E;(E=l.onExited)==null||E.call(l,w),L()}}),additionalProps:{appear:!0,in:v}});s==="auto"&&!V.muiSupportAuto&&(r=void 0);const xt=k||(h?tt(Q(h)).body:void 0),[rt,{slots:St,slotProps:Rt,...Mt}]=X("root",{ref:o,elementType:Zt,externalForwardedProps:{...P,...x},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:z.backdrop},slotProps:{backdrop:Gt(typeof c.backdrop=="function"?c.backdrop(O):c.backdrop,{invisible:!0})},container:xt,open:v},ownerState:O,className:ht(j.root,F)}),[Ct,Tt]=X("paper",{ref:p,className:j.paper,elementType:wt,externalForwardedProps:P,shouldForwardComponentProp:!0,additionalProps:{elevation:A,style:G?void 0:{opacity:0}},ownerState:O});return N.jsx(rt,{...Mt,...!Kt(rt)&&{slots:St,slotProps:Rt,disableScrollLock:D},children:N.jsx(V,{...bt,timeout:r,children:N.jsx(Ct,{...Tt,children:M})})})});function ee(t){return yt("MuiMenu",t)}vt("MuiMenu",["root","paper","list"]);const oe={vertical:"top",horizontal:"right"},ne={vertical:"top",horizontal:"left"},re=t=>{const{classes:e}=t;return Pt({root:["root"],paper:["paper"],list:["list"]},ee,e)},se=Y(te,{shouldForwardProp:t=>kt(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ie=Y(wt,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ae=Y(qt,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),be=i.forwardRef(function(e,o){const S=gt({props:e,name:"MuiMenu"}),{autoFocus:b=!0,children:h,className:d,disableAutoFocusItem:m=!1,MenuListProps:g={},onClose:M,open:F,PaperProps:k={},PopoverClasses:A,transitionDuration:u="auto",TransitionProps:{onEntering:v,...C}={},variant:z="selectedMenu",slots:c={},slotProps:R={},...n}=S,s=Xt(),a={...S,autoFocus:b,disableAutoFocusItem:m,MenuListProps:g,onEntering:v,PaperProps:k,transitionDuration:u,TransitionProps:C,variant:z},D=re(a),x=b&&!m&&F,p=i.useRef(null),O=(r,P)=>{p.current&&p.current.adjustStyleForScrollbar(r,{direction:s?"rtl":"ltr"}),v&&v(r,P)},j=r=>{r.key==="Tab"&&(r.preventDefault(),M&&M(r,"tabKeyDown"))};let I=-1;i.Children.map(h,(r,P)=>{i.isValidElement(r)&&(r.props.disabled||(z==="selectedMenu"&&r.props.selected||I===-1)&&(I=P))});const H={slots:c,slotProps:{list:g,transition:C,paper:k,...R}},W=_t({elementType:c.root,externalSlotProps:R.root,ownerState:a,className:[D.root,d]}),[G,f]=X("paper",{className:D.paper,elementType:ie,externalForwardedProps:H,shouldForwardComponentProp:!0,ownerState:a}),[y,T]=X("list",{className:ht(D.list,g.className),elementType:ae,shouldForwardComponentProp:!0,externalForwardedProps:H,getSlotProps:r=>({...r,onKeyDown:P=>{var V;j(P),(V=r.onKeyDown)==null||V.call(r,P)}}),ownerState:a}),L=typeof H.slotProps.transition=="function"?H.slotProps.transition(a):H.slotProps.transition;return N.jsx(se,{onClose:M,anchorOrigin:{vertical:"bottom",horizontal:s?"right":"left"},transformOrigin:s?oe:ne,slots:{root:c.root,paper:G,backdrop:c.backdrop,...c.transition&&{transition:c.transition}},slotProps:{root:W,paper:f,backdrop:typeof R.backdrop=="function"?R.backdrop(a):R.backdrop,transition:{...L,onEntering:(...r)=>{var P;O(...r),(P=L==null?void 0:L.onEntering)==null||P.call(L,...r)}}},open:F,ref:o,transitionDuration:u,ownerState:a,...n,classes:A,children:N.jsx(y,{actions:p,autoFocus:b&&(I===-1||m),autoFocusItem:x,variant:z,...T,children:h})})});export{be as M};

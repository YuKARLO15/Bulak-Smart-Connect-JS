import{j as i}from"./jsx-runtime-Ds-gkUgj.js";import{R as y,r as S}from"./index-CtvPRVHf.js";import{N as bt}from"./NavSide-D1Zl4aGG.js";import{i as xt,D as At,f as gt,E as jt,L as Q,b as V,c as Dt,A as St,d as F,e as Pt,g as U,h as Ot,j as wt,k as pt,u as Nt,G as kt,l as tt,m as _t,X,Y,n as Et,R as et,B as Ct,C as at,T as rt,a as nt}from"./BarChart-CmZlu1nB.js";import{c as it}from"./clsx-B-dksMZM.js";import{L as G}from"./chunk-AYJ5UCUI-CkRdRQ96.js";import"./createSvgIcon-Bysyal0j.js";import"./DefaultPropsProvider-BmwwqBPg.js";import"./createTheme-CEEQiKg8.js";import"./AuthContext-DROsejNy.js";import"./tiny-invariant-CopsF_GD.js";import"./index-DO8cz205.js";var Lt=["type","layout","connectNulls","ref"],It=["key"];function C(t){"@babel/helpers - typeof";return C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},C(t)}function ot(t,a){if(t==null)return{};var r=Tt(t,a),e,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)e=s[n],!(a.indexOf(e)>=0)&&Object.prototype.propertyIsEnumerable.call(t,e)&&(r[e]=t[e])}return r}function Tt(t,a){if(t==null)return{};var r={};for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){if(a.indexOf(e)>=0)continue;r[e]=t[e]}return r}function R(){return R=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])}return t},R.apply(this,arguments)}function st(t,a){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);a&&(e=e.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,e)}return r}function g(t){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?st(Object(r),!0).forEach(function(e){O(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function E(t){return Kt(t)||Ft(t)||Wt(t)||Bt()}function Bt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wt(t,a){if(t){if(typeof t=="string")return H(t,a);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(t,a)}}function Ft(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kt(t){if(Array.isArray(t))return H(t)}function H(t,a){(a==null||a>t.length)&&(a=t.length);for(var r=0,e=new Array(a);r<a;r++)e[r]=t[r];return e}function Rt(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function lt(t,a){for(var r=0;r<a.length;r++){var e=a[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,mt(e.key),e)}}function $t(t,a,r){return a&&lt(t.prototype,a),r&&lt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mt(t,a,r){return a=z(a),Vt(t,ht()?Reflect.construct(a,r||[],z(t).constructor):a.apply(t,r))}function Vt(t,a){if(a&&(C(a)==="object"||typeof a=="function"))return a;if(a!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zt(t)}function zt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ht(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ht=function(){return!!t})()}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z(t)}function qt(t,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(a&&a.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),a&&J(t,a)}function J(t,a){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e},J(t,a)}function O(t,a,r){return a=mt(a),a in t?Object.defineProperty(t,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[a]=r,t}function mt(t){var a=Qt(t,"string");return C(a)=="symbol"?a:a+""}function Qt(t,a){if(C(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var e=r.call(t,a);if(C(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var L=function(t){function a(){var r;Rt(this,a);for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return r=Mt(this,a,[].concat(n)),O(r,"state",{isAnimationFinished:!0,totalLength:0}),O(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),O(r,"getStrokeDasharray",function(o,l,d){var u=d.reduce(function(P,D){return P+D});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var v=Math.floor(o/u),p=o%u,h=l-o,m=[],c=0,f=0;c<d.length;f+=d[c],++c)if(f+d[c]>p){m=[].concat(E(d.slice(0,c)),[p-f]);break}var j=m.length%2===0?[0,h]:[h];return[].concat(E(a.repeat(d,v)),E(m),j).map(function(P){return"".concat(P,"px")}).join(", ")}),O(r,"id",Nt("recharts-line-")),O(r,"pathRef",function(o){r.mainCurve=o}),O(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),O(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return qt(a,t),$t(a,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(e,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,d=s.yAxis,u=s.layout,v=s.children,p=gt(v,jt);if(!p)return null;var h=function(f,j){return{x:f.x,y:f.y,value:f.value,errorVal:pt(f.payload,j)}},m={clipPath:e?"url(#clipPath-".concat(n,")"):null};return y.createElement(Q,m,p.map(function(c){return y.cloneElement(c,{key:"bar-".concat(c.props.dataKey),data:o,xAxis:l,yAxis:d,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(e,n,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,d=l.dot,u=l.points,v=l.dataKey,p=V(this.props,!1),h=V(d,!0),m=u.map(function(f,j){var P=g(g(g({key:"dot-".concat(j),r:3},p),h),{},{index:j,cx:f.x,cy:f.y,value:f.value,dataKey:v,payload:f.payload,points:u});return a.renderDotItem(d,P)}),c={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(s,")"):null};return y.createElement(Q,R({className:"recharts-line-dots",key:"dots"},c),m)}},{key:"renderCurveStatically",value:function(e,n,s,o){var l=this.props,d=l.type,u=l.layout,v=l.connectNulls;l.ref;var p=ot(l,Lt),h=g(g(g({},V(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(s,")"):null,points:e},o),{},{type:d,layout:u,connectNulls:v});return y.createElement(Dt,R({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,n){var s=this,o=this.props,l=o.points,d=o.strokeDasharray,u=o.isAnimationActive,v=o.animationBegin,p=o.animationDuration,h=o.animationEasing,m=o.animationId,c=o.animateNewValues,f=o.width,j=o.height,P=this.state,D=P.prevPoints,k=P.totalLength;return y.createElement(St,{begin:v,duration:p,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var b=w.t;if(D){var N=D.length/l.length,x=l.map(function(A,q){var B=Math.floor(q*N);if(D[B]){var W=D[B],_=F(W.x,A.x),ft=F(W.y,A.y);return g(g({},A),{},{x:_(b),y:ft(b)})}if(c){var vt=F(f*2,A.x),yt=F(j/2,A.y);return g(g({},A),{},{x:vt(b),y:yt(b)})}return g(g({},A),{},{x:A.x,y:A.y})});return s.renderCurveStatically(x,e,n)}var $=F(0,k),I=$(b),T;if(d){var M="".concat(d).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});T=s.getStrokeDasharray(I,k,M)}else T=s.generateSimpleStrokeDasharray(k,I);return s.renderCurveStatically(l,e,n,{strokeDasharray:T})})}},{key:"renderCurve",value:function(e,n){var s=this.props,o=s.points,l=s.isAnimationActive,d=this.state,u=d.prevPoints,v=d.totalLength;return l&&o&&o.length&&(!u&&v>0||!Pt(u,o))?this.renderCurveWithAnimation(e,n):this.renderCurveStatically(o,e,n)}},{key:"render",value:function(){var e,n=this.props,s=n.hide,o=n.dot,l=n.points,d=n.className,u=n.xAxis,v=n.yAxis,p=n.top,h=n.left,m=n.width,c=n.height,f=n.isAnimationActive,j=n.id;if(s||!l||!l.length)return null;var P=this.state.isAnimationFinished,D=l.length===1,k=it("recharts-line",d),w=u&&u.allowDataOverflow,b=v&&v.allowDataOverflow,N=w||b,x=U(j)?this.id:j,$=(e=V(o,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},I=$.r,T=I===void 0?3:I,M=$.strokeWidth,A=M===void 0?2:M,q=Ot(o)?o:{},B=q.clipDot,W=B===void 0?!0:B,_=T*2+A;return y.createElement(Q,{className:k},w||b?y.createElement("defs",null,y.createElement("clipPath",{id:"clipPath-".concat(x)},y.createElement("rect",{x:w?h:h-m/2,y:b?p:p-c/2,width:w?m:m*2,height:b?c:c*2})),!W&&y.createElement("clipPath",{id:"clipPath-dots-".concat(x)},y.createElement("rect",{x:h-_/2,y:p-_/2,width:m+_,height:c+_}))):null,!D&&this.renderCurve(N,x),this.renderErrorBar(N,x),(D||o)&&this.renderDots(N,W,x),(!f||P)&&wt.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return e.animationId!==n.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:n.curPoints}:e.points!==n.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,n){for(var s=e.length%2!==0?[].concat(E(e),[0]):e,o=[],l=0;l<n;++l)o=[].concat(E(o),E(s));return o}},{key:"renderDotItem",value:function(e,n){var s;if(y.isValidElement(e))s=y.cloneElement(e,n);else if(xt(e))s=e(n);else{var o=n.key,l=ot(n,It),d=it("recharts-line-dot",typeof e!="boolean"?e.className:"");s=y.createElement(At,R({key:o},l,{className:d}))}return s}}])}(S.PureComponent);O(L,"displayName","Line");O(L,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!kt.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});O(L,"getComposedData",function(t){var a=t.props,r=t.xAxis,e=t.yAxis,n=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,d=t.displayedData,u=t.offset,v=a.layout,p=d.map(function(h,m){var c=pt(h,o);return v==="horizontal"?{x:tt({axis:r,ticks:n,bandSize:l,entry:h,index:m}),y:U(c)?null:e.scale(c),value:c,payload:h}:{x:U(c)?null:r.scale(c),y:tt({axis:e,ticks:s,bandSize:l,entry:h,index:m}),value:c,payload:h}});return g({points:p,layout:v},u)});var Gt=_t({chartName:"LineChart",GraphicalChild:L,axisComponents:[{axisType:"xAxis",AxisComp:X},{axisType:"yAxis",AxisComp:Y}],formatAxisMap:Et});const Z=()=>{const[t,a]=S.useState([]),[r,e]=S.useState([]),[n,s]=S.useState([]),[o,l]=S.useState([]),[d,u]=S.useState([]),[v,p]=S.useState(!1),[h,m]=S.useState(null),[c,f]=S.useState(""),[j,P]=S.useState(!1),[D,k]=S.useState(!1),w=b=>{f(b.target.value)};return S.useEffect(()=>{(async()=>{p(!0);try{const x=await(await fetch("http://localhost:3000/api/dashboard")).json();a(x.walkInData||[]),e(x.certificateData||[]),s(x.applications||[]),l(x.appointments||[]),u(x.queue||[]),p(!1)}catch(N){console.error("Error fetching dashboard data:",N),m("Failed to load dashboard data"),p(!1)}})()},[]),i.jsxs("div",{className:`admin-dashboard ${D?"sidebar-open":""}`,children:[i.jsx(bt,{isSidebarOpen:D,setIsSidebarOpen:k}),i.jsxs("div",{className:"admin-dashboard-top-nav",children:[i.jsx("h1",{className:"admin-dashboard-title",children:"Dashboard"}),i.jsx("div",{className:"admin-dashboard-search-bar",children:i.jsx("input",{type:"text",placeholder:"Search",value:c,onChange:w})})]}),i.jsx("div",{className:"admin-dashboard-content-wrapper",children:i.jsxs("div",{className:"admin-dashboard-container",children:[i.jsxs("div",{className:"admin-dashboard-main",children:[i.jsxs("div",{className:"admin-dashboard-charts",children:[i.jsxs("div",{className:"admin-dashboard-chart-card",children:[i.jsx("div",{className:"admin-dashboard-chart-header",children:i.jsxs("div",{className:"admin-dashboard-chart-title",children:[i.jsx("span",{className:"admin-dashboard-walk-in-dot"})," Walk In",i.jsx("span",{className:"admin-dashboard-appointment-dot"})," Appointment"]})}),i.jsx(et,{width:"100%",height:200,children:i.jsxs(Ct,{data:t,children:[i.jsx(at,{strokeDasharray:"3 3"}),i.jsx(X,{dataKey:"name"}),i.jsx(Y,{}),i.jsx(rt,{}),i.jsx(nt,{dataKey:"value",name:"Walk-ins",fill:"#1C4D5A"}),i.jsx(nt,{dataKey:"appointments",name:"Appointments",fill:"#8DC3A7"})]})})]}),i.jsxs("div",{className:"admin-dashboard-chart-card",children:[i.jsx("div",{className:"admin-dashboard-chart-header",children:i.jsxs("div",{className:"admin-dashboard-chart-title",children:[i.jsx("span",{className:"admin-dashboard-birth-dot"})," Birth Certificate",i.jsx("span",{className:"admin-dashboard-marriage-dot"})," Marriage Certificate"]})}),i.jsx(et,{width:"100%",height:200,children:i.jsxs(Gt,{data:r,children:[i.jsx(at,{strokeDasharray:"3 3"}),i.jsx(X,{dataKey:"name"}),i.jsx(Y,{}),i.jsx(rt,{}),i.jsx(L,{type:"monotone",dataKey:"birth",stroke:"#1C4D5A",activeDot:{r:8}}),i.jsx(L,{type:"monotone",dataKey:"marriage",stroke:"#8DC3A7"})]})})]})]}),i.jsxs("div",{className:"admin-dashboard-section-container",children:[i.jsx("h2",{children:"Document Application"}),i.jsx("div",{className:"admin-dashboard-document-applications"}),i.jsx(G,{to:"/admin/documents",className:"admin-dashboard-view-all",children:"View All Applications →"})]}),i.jsxs("div",{className:"admin-dashboard-section-container",children:[i.jsx("h2",{children:"Pre-Appointments"}),i.jsx("div",{className:"admin-dashboard-pre-appointments"}),i.jsx(G,{to:"/admin/appointments",className:"admin-dashboard-view-all",children:"View All Appointments →"})]})]}),i.jsxs("div",{className:"admin-dashboard-walk-in-queue",children:[i.jsx("h2",{children:"Walk - In Queue"}),i.jsx("div",{className:"admin-dashboard-queue-content"}),i.jsx(G,{to:"/AdminWalkInQueue",className:"admin-dashboard-view-all",children:"Manage Queue →"})]})]})})]})};Z.__docgenInfo={description:"",methods:[],displayName:"AdminDashboard"};const oe={title:"Components/AdminDashboard",component:Z},K=()=>i.jsx(Z,{});K.__docgenInfo={description:"",methods:[],displayName:"Default"};var ct,dt,ut;K.parameters={...K.parameters,docs:{...(ct=K.parameters)==null?void 0:ct.docs,source:{originalSource:"() => <AdminDashboard />",...(ut=(dt=K.parameters)==null?void 0:dt.docs)==null?void 0:ut.source}}};const se=["Default"];export{K as Default,se as __namedExportsOrder,oe as default};

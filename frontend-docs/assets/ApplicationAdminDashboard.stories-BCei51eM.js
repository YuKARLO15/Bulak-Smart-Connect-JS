import{j as t}from"./jsx-runtime-Ds-gkUgj.js";import{r as c}from"./index-CtvPRVHf.js";import{c as Z}from"./createSvgIcon-Bysyal0j.js";import{g as O}from"./ApplicationData-ZvYeRaMT.js";import{N as ee}from"./NavSide-CTYgAyPV.js";import{B as r}from"./Box-CiLytvgs.js";import{C as te}from"./CircularProgress-CxdDrrre.js";import{T as u}from"./Typography-bP-jEqOD.js";import{A as ae,I as se}from"./Alert-DwyBMc6h.js";import{C as U}from"./Card-BsQn96zs.js";import{C as W}from"./CardContent-BepYH2Pv.js";import{B as P}from"./Button-DiC-o-A5.js";import{c as D}from"./clsx-B-dksMZM.js";import{b as N,g as T,d as j,B as oe,A as ie,a as B}from"./createTheme-CEEQiKg8.js";import{u as w,s as R,c as S,m as z}from"./DefaultPropsProvider-BmwwqBPg.js";import{P as ne}from"./Paper-CUixK3Wn.js";import{u as re}from"./chunk-AYJ5UCUI-CkRdRQ96.js";import"./AuthContext-DROsejNy.js";import"./Description-z-avLxih.js";import"./extendSxProp-mB04pl9k.js";import"./createSimplePaletteValueFilter-Bxcyfoq9.js";import"./useSlot-C9vuPqXJ.js";import"./useTheme-BaXXVSuK.js";const Y=c.createContext();function le(e){return N("MuiTable",e)}T("MuiTable",["root","stickyHeader"]);const ce=e=>{const{classes:s,stickyHeader:o}=e;return S({root:["root",o&&"stickyHeader"]},le,s)},pe=R("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:o}=e;return[s.root,o.stickyHeader&&s.stickyHeader]}})(z(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:s})=>s.stickyHeader,style:{borderCollapse:"separate"}}]}))),F="table",de=c.forwardRef(function(s,o){const n=w({props:s,name:"MuiTable"}),{className:p,component:i=F,padding:d="normal",size:l="medium",stickyHeader:h=!1,...x}=n,g={...n,component:i,padding:d,size:l,stickyHeader:h},A=ce(g),k=c.useMemo(()=>({padding:d,size:l,stickyHeader:h}),[d,l,h]);return t.jsx(Y.Provider,{value:k,children:t.jsx(pe,{as:i,role:i===F?null:"table",ref:o,className:D(A.root,p),ownerState:g,...x})})}),L=c.createContext();function he(e){return N("MuiTableBody",e)}T("MuiTableBody",["root"]);const ue=e=>{const{classes:s}=e;return S({root:["root"]},he,s)},me=R("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,s)=>s.root})({display:"table-row-group"}),ge={variant:"body"},_="tbody",xe=c.forwardRef(function(s,o){const n=w({props:s,name:"MuiTableBody"}),{className:p,component:i=_,...d}=n,l={...n,component:i},h=ue(l);return t.jsx(L.Provider,{value:ge,children:t.jsx(me,{className:D(h.root,p),as:i,ref:o,role:i===_?null:"rowgroup",ownerState:l,...d})})});function ve(e){return N("MuiTableCell",e)}const fe=T("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),be=e=>{const{classes:s,variant:o,align:n,padding:p,size:i,stickyHeader:d}=e,l={root:["root",o,d&&"stickyHeader",n!=="inherit"&&`align${j(n)}`,p!=="normal"&&`padding${j(p)}`,`size${j(i)}`]};return S(l,ve,s)},Ae=R("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:o}=e;return[s.root,s[o.variant],s[`size${j(o.size)}`],o.padding!=="normal"&&s[`padding${j(o.padding)}`],o.align!=="inherit"&&s[`align${j(o.align)}`],o.stickyHeader&&s.stickyHeader]}})(z(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?oe(B(e.palette.divider,1),.88):ie(B(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${fe.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:s})=>s.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),f=c.forwardRef(function(s,o){const n=w({props:s,name:"MuiTableCell"}),{align:p="inherit",className:i,component:d,padding:l,scope:h,size:x,sortDirection:g,variant:A,...k}=n,v=c.useContext(Y),y=c.useContext(L),$=y&&y.variant==="head";let b;d?b=d:b=$?"th":"td";let C=h;b==="td"?C=void 0:!C&&$&&(C="col");const H=A||y&&y.variant,a={...n,align:p,component:b,padding:l||(v&&v.padding?v.padding:"normal"),size:x||(v&&v.size?v.size:"medium"),sortDirection:g,stickyHeader:H==="head"&&v&&v.stickyHeader,variant:H},m=be(a);let I=null;return g&&(I=g==="asc"?"ascending":"descending"),t.jsx(Ae,{as:b,ref:o,className:D(m.root,i),"aria-sort":I,scope:C,ownerState:a,...k})});function ye(e){return N("MuiTableContainer",e)}T("MuiTableContainer",["root"]);const Ce=e=>{const{classes:s}=e;return S({root:["root"]},ye,s)},je=R("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,s)=>s.root})({width:"100%",overflowX:"auto"}),De=c.forwardRef(function(s,o){const n=w({props:s,name:"MuiTableContainer"}),{className:p,component:i="div",...d}=n,l={...n,component:i},h=Ce(l);return t.jsx(je,{ref:o,as:i,className:D(h.root,p),ownerState:l,...d})});function Ne(e){return N("MuiTableHead",e)}T("MuiTableHead",["root"]);const Te=e=>{const{classes:s}=e;return S({root:["root"]},Ne,s)},we=R("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,s)=>s.root})({display:"table-header-group"}),Re={variant:"head"},J="thead",Se=c.forwardRef(function(s,o){const n=w({props:s,name:"MuiTableHead"}),{className:p,component:i=J,...d}=n,l={...n,component:i},h=Te(l);return t.jsx(L.Provider,{value:Re,children:t.jsx(we,{as:i,className:D(h.root,p),ref:o,role:i===J?null:"rowgroup",ownerState:l,...d})})});function ke(e){return N("MuiTableRow",e)}const X=T("MuiTableRow",["root","selected","hover","head","footer"]),Me=e=>{const{classes:s,selected:o,hover:n,head:p,footer:i}=e;return S({root:["root",o&&"selected",n&&"hover",p&&"head",i&&"footer"]},ke,s)},$e=R("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,s)=>{const{ownerState:o}=e;return[s.root,o.head&&s.head,o.footer&&s.footer]}})(z(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${X.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${X.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:B(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:B(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),V="tr",G=c.forwardRef(function(s,o){const n=w({props:s,name:"MuiTableRow"}),{className:p,component:i=V,hover:d=!1,selected:l=!1,...h}=n,x=c.useContext(L),g={...n,component:i,hover:d,selected:l,head:x&&x.variant==="head",footer:x&&x.variant==="footer"},A=Me(g);return t.jsx($e,{as:i,ref:o,className:D(A.root,p),role:i===V?null:"row",ownerState:g,...h})}),He=Z(t.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),E=()=>{const[e,s]=c.useState("All"),[o,n]=c.useState([]),[p,i]=c.useState([]),[d,l]=c.useState(!0),[h,x]=c.useState(null),g=re(),[A,k]=c.useState(!1);c.useEffect(()=>{try{l(!0);const a=O();n(a)}catch(a){x("Error loading applications: "+a.message)}finally{l(!1)}},[]),c.useEffect(()=>{const a=m=>{if(m.key==="applications"){const I=O();n(I)}};return window.addEventListener("storage",a),()=>{window.removeEventListener("storage",a)}},[]);const v=o.filter(a=>a.status==="Pending").length,y=o.filter(a=>a.status==="Approved").length,$=o.filter(a=>a.status==="Decline"||a.status==="Decline").length;c.useEffect(()=>{try{i(e==="All"?o:o.filter(a=>a.status===e||e==="Denied"&&a.status==="Decline"||e==="Decline"&&a.status==="Denied"))}catch(a){x("Error filtering applications: "+a.message)}},[e,o]);const b=a=>{s(a)},C=a=>{if(console.log("Reviewing application:",a.id),a.type==="Birth Certificate")try{localStorage.setItem("currentApplicationId",a.id),g("/ApplicationDetails/"+a.id)}catch(m){console.error("Error preparing for review:",m)}else console.log("Navigating to review for:",a.type),g("/ApplicationDetails/"+a.id)},H=a=>{switch(a){case"Approved":return"approved";case"Pending":return"pending";case"Declined":case"Denied":return"denied";default:return""}};return d?t.jsxs(r,{className:"ApplicationDashLoading",children:[t.jsx(te,{}),t.jsx(u,{sx:{ml:2},children:"Loading applications..."})]}):h?t.jsx(r,{className:"ApplicationDashError",children:t.jsx(ae,{severity:"error",children:h})}):t.jsxs(r,{className:`ApplicationDashContainer ${A?"sidebar-open":""}`,children:[t.jsx(ee,{isSidebarOpen:A,setIsSidebarOpen:k}),t.jsx(r,{className:"ApplicationDashHeader",children:t.jsx(u,{variant:"h5",className:"ApplicationDashTitle",children:"Applications"})}),t.jsxs(r,{className:"ApplicationDashContent",children:[t.jsx(U,{className:"ApplicationDashOverview",children:t.jsxs(W,{children:[t.jsx(u,{variant:"h6",className:"ApplicationDashSectionTitle",gutterBottom:!0,children:"Application Overview"}),t.jsxs(r,{className:"ApplicationDashStats",children:[t.jsxs(P,{fullWidth:!0,className:`ApplicationDashPendingCard ${e==="Pending"?"active":""}`,onClick:()=>b("Pending"),children:[t.jsx(r,{className:"ApplicationDashIcon pending",children:t.jsx(r,{className:"ApplicationDashCircleIcon pending"})}),t.jsx(u,{className:"ApplicationDashLabel",children:"APPLICATION PENDING"}),t.jsx(u,{className:"ApplicationDashCount",children:v})]}),t.jsxs(P,{fullWidth:!0,className:`ApplicationDashApprovedCard ${e==="Approved"?"active":""}`,onClick:()=>b("Approved"),children:[t.jsx(r,{className:"ApplicationDashIcon approved",children:t.jsx(r,{className:"ApplicationDashCircleIcon approved"})}),t.jsx(u,{className:"ApplicationDashLabel",children:"APPLICATION APPROVED"}),t.jsx(u,{className:"ApplicationDashCount",children:y})]}),t.jsxs(P,{fullWidth:!0,className:`ApplicationDashDeniedCard ${e==="Denied"?"active":""}`,onClick:()=>b("Denied"),children:[t.jsx(r,{className:"ApplicationDashIcon denied",children:t.jsx(r,{className:"ApplicationDashCircleIcon denied"})}),t.jsx(u,{className:"ApplicationDashLabel",children:"APPLICATION DENIED"}),t.jsx(u,{className:"ApplicationDashCount",children:$})]})]})]})}),t.jsx(U,{className:"ApplicationDashChart",children:t.jsx(W,{children:t.jsxs(r,{className:"ApplicationDashChartContainer",children:[t.jsxs(r,{className:"ApplicationDashChartHeader",children:[t.jsx(u,{variant:"caption",color:"textSecondary",children:"Stats overview"}),t.jsxs(r,{className:"ApplicationDashChartLegend",children:[t.jsxs(r,{className:"ApplicationDashChartLegendItem",children:[t.jsx(r,{className:"ApplicationDashChartLegendDot approved"}),t.jsx(u,{variant:"caption",children:"Approved"})]}),t.jsxs(r,{className:"ApplicationDashChartLegendItem",children:[t.jsx(r,{className:"ApplicationDashChartLegendDot pending"}),t.jsx(u,{variant:"caption",children:"Pending"})]})]})]}),t.jsxs(r,{className:"ApplicationDashChartBody",children:[[0,1,2,3].map(a=>t.jsx(r,{className:"ApplicationDashChartGridLine"},a)),t.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",style:{position:"absolute",left:0,bottom:0,right:0,top:0},children:[t.jsx("polyline",{points:`
                      0,80
                      9,65
                      18,75
                      27,55
                      36,45
                      45,50
                      54,40
                      63,30
                      72,35
                      81,25
                      90,20
                      100,15
                    `,fill:"none",stroke:"green",strokeWidth:"2"}),[[0,80],[9,65],[18,75],[27,55],[36,45],[45,50],[54,40],[63,30],[72,35],[81,25],[90,20],[100,15]].map((a,m)=>t.jsx("circle",{cx:a[0],cy:a[1],r:"1.5",fill:"green"},`approved-${m}`))]}),t.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"none",style:{position:"absolute",left:0,bottom:0,right:0,top:0},children:[t.jsx("polyline",{points:`
                      0,85
                      9,75
                      18,80
                      27,70
                      36,60
                      45,65
                      54,55
                      63,60
                      72,50
                      81,45
                      90,35
                      100,40
                    `,fill:"none",stroke:"orange",strokeWidth:"2"}),[[0,85],[9,75],[18,80],[27,70],[36,60],[45,65],[54,55],[63,60],[72,50],[81,45],[90,35],[100,40]].map((a,m)=>t.jsx("circle",{cx:a[0],cy:a[1],r:"1.5",fill:"orange"},`pending-${m}`))]})]}),t.jsx(r,{className:"ApplicationDashChartLabels",children:["J","F","M","A","M","J","J","A","S","O","N","D"].map((a,m)=>t.jsx(u,{variant:"caption",className:"ApplicationDashChartMonthLabel",children:a},m))})]})})})]}),t.jsxs(r,{className:"ApplicationDashTableSection",sx:{maxWidth:"80vw",overflowX:"hidden"},children:[t.jsxs(r,{className:"ApplicationDashTableHeader",children:[t.jsx(u,{variant:"h6",className:"ApplicationDashTableTitle",children:"Submitted Applications"}),t.jsx(se,{className:"ApplicationDashFilterButton",size:"small",children:t.jsx(He,{fontSize:"small"})})]}),t.jsx(r,{className:"ApplicationDashTableContent",sx:{maxWidth:"80vw",overflowX:"hidden"},children:p.length===0?t.jsx(r,{className:"ApplicationDashNoData",children:"No applications found for the selected status."}):t.jsx(De,{component:ne,elevation:0,sx:{width:"100%",maxWidth:"80vw",overflowX:"hidden"},children:t.jsxs(de,{stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed",maxWidth:"100%"},children:[t.jsx(Se,{children:t.jsxs(G,{children:[t.jsx(f,{children:"Type"}),t.jsx(f,{children:"Submitted Date"}),t.jsx(f,{children:"Status"}),t.jsx(f,{children:"ID"}),t.jsx(f,{align:"right",children:"Action"})]})}),t.jsx(xe,{children:p.map((a,m)=>t.jsxs(G,{className:"ApplicationDashTableRow",children:[t.jsx(f,{className:"ApplicationDashApplicationType",children:a.type}),t.jsx(f,{className:"ApplicationDashApplicationRef",children:a.date||a.ref||"N/A"}),t.jsx(f,{className:`ApplicationDashApplicationStatus ${H(a.status)}`,children:a.status}),t.jsx(f,{className:"ApplicationDashApplicationId",children:a.id||"N/A"}),t.jsx(f,{className:"ApplicationDashApplicationAction",align:"right",children:t.jsx(P,{size:"small",color:"primary",className:"ApplicationDashReviewButton",onClick:()=>C(a),children:"REVIEW"})})]},a.id||m))})]})})})]})]})};E.__docgenInfo={description:"",methods:[],displayName:"AdminApplicationDashboard"};const st={title:"Components/ApplicationAdminDashboard",component:E},M=()=>t.jsx(E,{});M.__docgenInfo={description:"",methods:[],displayName:"Default"};var q,K,Q;M.parameters={...M.parameters,docs:{...(q=M.parameters)==null?void 0:q.docs,source:{originalSource:"() => <ApplicationAdminDashboard />",...(Q=(K=M.parameters)==null?void 0:K.docs)==null?void 0:Q.source}}};const ot=["Default"];export{M as Default,ot as __namedExportsOrder,st as default};

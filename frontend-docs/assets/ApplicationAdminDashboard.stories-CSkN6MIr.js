import{j as a}from"./jsx-runtime-Ds-gkUgj.js";import{r as l}from"./index-CtvPRVHf.js";import{c as ae}from"./createSvgIcon-C90RuxAZ.js";import{g as U}from"./ApplicationData-DCHunuve.js";import{N as te}from"./NavSide-CqY9HB19.js";import{A as se}from"./ApplicationLineChart-BR-zhu6R.js";import{B as u}from"./Box-DTRDwRT5.js";import{C as oe}from"./CircularProgress-3zimLSxM.js";import{T as g}from"./Typography-B_acdWah.js";import{A as ie,I as re}from"./Alert-15g-uXn2.js";import{C as W}from"./Card-5N8AYhSH.js";import{C as F}from"./CardContent-VBZVOkE2.js";import{B as I}from"./Button-CrXPkcH8.js";import{c as j}from"./clsx-B-dksMZM.js";import{b as D,g as T,d as C,B as ne,A as le,a as P}from"./createTheme-C6kIcmbg.js";import{u as N,s as w,c as M,m as L}from"./DefaultPropsProvider-D010D3ru.js";import{P as ce}from"./Paper-DtQYlIIh.js";import{u as pe}from"./chunk-AYJ5UCUI-CkRdRQ96.js";import"./AuthContext-DROsejNy.js";import"./Close-BFUA1JaJ.js";import"./Description-VtskB8YN.js";import"./generateCategoricalChart-BfJI-kMY.js";import"./tiny-invariant-CopsF_GD.js";import"./index-DO8cz205.js";import"./LineChart-DgY3dQny.js";import"./extendSxProp-DharK51R.js";import"./createSimplePaletteValueFilter-5s3yMkVM.js";import"./useSlot-D5ErQCYq.js";import"./useTheme-CryYIIKA.js";const Z=l.createContext();function de(e){return D("MuiTable",e)}T("MuiTable",["root","stickyHeader"]);const he=e=>{const{classes:t,stickyHeader:o}=e;return M({root:["root",o&&"stickyHeader"]},de,t)},ue=w("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.stickyHeader&&t.stickyHeader]}})(L(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:t})=>t.stickyHeader,style:{borderCollapse:"separate"}}]}))),_="table",me=l.forwardRef(function(t,o){const n=N({props:t,name:"MuiTable"}),{className:p,component:r=_,padding:d="normal",size:c="medium",stickyHeader:h=!1,...f}=n,m={...n,component:r,padding:d,size:c,stickyHeader:h},x=he(m),B=l.useMemo(()=>({padding:d,size:c,stickyHeader:h}),[d,c,h]);return a.jsx(Z.Provider,{value:B,children:a.jsx(ue,{as:r,role:r===_?null:"table",ref:o,className:j(x.root,p),ownerState:m,...f})})}),z=l.createContext();function ge(e){return D("MuiTableBody",e)}T("MuiTableBody",["root"]);const fe=e=>{const{classes:t}=e;return M({root:["root"]},ge,t)},ve=w("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),xe={variant:"body"},X="tbody",be=l.forwardRef(function(t,o){const n=N({props:t,name:"MuiTableBody"}),{className:p,component:r=X,...d}=n,c={...n,component:r},h=fe(c);return a.jsx(z.Provider,{value:xe,children:a.jsx(ve,{className:j(h.root,p),as:r,ref:o,role:r===X?null:"rowgroup",ownerState:c,...d})})});function ye(e){return D("MuiTableCell",e)}const Ae=T("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),Ce=e=>{const{classes:t,variant:o,align:n,padding:p,size:r,stickyHeader:d}=e,c={root:["root",o,d&&"stickyHeader",n!=="inherit"&&`align${C(n)}`,p!=="normal"&&`padding${C(p)}`,`size${C(r)}`]};return M(c,ye,t)},je=w("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],t[`size${C(o.size)}`],o.padding!=="normal"&&t[`padding${C(o.padding)}`],o.align!=="inherit"&&t[`align${C(o.align)}`],o.stickyHeader&&t.stickyHeader]}})(L(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?ne(P(e.palette.divider,1),.88):le(P(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Ae.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:t})=>t.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),v=l.forwardRef(function(t,o){const n=N({props:t,name:"MuiTableCell"}),{align:p="inherit",className:r,component:d,padding:c,scope:h,size:f,sortDirection:m,variant:x,...B}=n,i=l.useContext(Z),R=l.useContext(z),H=R&&R.variant==="head";let b;d?b=d:b=H?"th":"td";let y=h;b==="td"?y=void 0:!y&&H&&(y="col");const A=x||R&&R.variant,$={...n,align:p,component:b,padding:c||(i&&i.padding?i.padding:"normal"),size:f||(i&&i.size?i.size:"medium"),sortDirection:m,stickyHeader:A==="head"&&i&&i.stickyHeader,variant:A},E=Ce($);let s=null;return m&&(s=m==="asc"?"ascending":"descending"),a.jsx(je,{as:b,ref:o,className:j(E.root,r),"aria-sort":s,scope:y,ownerState:$,...B})});function De(e){return D("MuiTableContainer",e)}T("MuiTableContainer",["root"]);const Te=e=>{const{classes:t}=e;return M({root:["root"]},De,t)},Ne=w("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),we=l.forwardRef(function(t,o){const n=N({props:t,name:"MuiTableContainer"}),{className:p,component:r="div",...d}=n,c={...n,component:r},h=Te(c);return a.jsx(Ne,{ref:o,as:r,className:j(h.root,p),ownerState:c,...d})});function Me(e){return D("MuiTableHead",e)}T("MuiTableHead",["root"]);const Be=e=>{const{classes:t}=e;return M({root:["root"]},Me,t)},Re=w("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Se={variant:"head"},J="thead",ke=l.forwardRef(function(t,o){const n=N({props:t,name:"MuiTableHead"}),{className:p,component:r=J,...d}=n,c={...n,component:r},h=Be(c);return a.jsx(z.Provider,{value:Se,children:a.jsx(Re,{as:r,className:j(h.root,p),ref:o,role:r===J?null:"rowgroup",ownerState:c,...d})})});function He(e){return D("MuiTableRow",e)}const V=T("MuiTableRow",["root","selected","hover","head","footer"]),$e=e=>{const{classes:t,selected:o,hover:n,head:p,footer:r}=e;return M({root:["root",o&&"selected",n&&"hover",p&&"head",r&&"footer"]},He,t)},Ie=w("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.head&&t.head,o.footer&&t.footer]}})(L(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${V.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${V.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:P(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:P(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),G="tr",q=l.forwardRef(function(t,o){const n=N({props:t,name:"MuiTableRow"}),{className:p,component:r=G,hover:d=!1,selected:c=!1,...h}=n,f=l.useContext(z),m={...n,component:r,hover:d,selected:c,head:f&&f.variant==="head",footer:f&&f.variant==="footer"},x=$e(m);return a.jsx(Ie,{as:r,ref:o,className:j(x.root,p),role:r===G?null:"row",ownerState:m,...h})}),Pe=ae(a.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),O=()=>{const[e,t]=l.useState("All"),[o,n]=l.useState([]),[p,r]=l.useState([]),[d,c]=l.useState(!0),[h,f]=l.useState(null),m=pe(),[x,B]=l.useState(!1);l.useEffect(()=>{try{c(!0);const s=U();n(s)}catch(s){f("Error loading applications: "+s.message)}finally{c(!1)}},[]);const[i,R]=l.useState({Birth:[15,20,10,25,30,22,28,35,32,40,45,50],Marriage:[20,25,15,18,20,25,22,28,30,32,28,35]});l.useEffect(()=>{const s=S=>{if(S.key==="applications"){const ee=U();n(ee)}};return window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}},[]);const H=o.filter(s=>s.status==="Pending").length,b=o.filter(s=>s.status==="Approved").length,y=o.filter(s=>s.status==="Decline"||s.status==="Decline").length;l.useEffect(()=>{try{r(e==="All"?o:o.filter(s=>s.status===e||e==="Denied"&&s.status==="Decline"||e==="Decline"&&s.status==="Denied"))}catch(s){f("Error filtering applications: "+s.message)}},[e,o]);const A=s=>{t(s)},$=s=>{if(console.log("Reviewing application:",s.id),s.type==="Birth Certificate")try{localStorage.setItem("currentApplicationId",s.id),m("/ApplicationDetails/"+s.id)}catch(S){console.error("Error preparing for review:",S)}else console.log("Navigating to review for:",s.type),m("/ApplicationDetails/"+s.id)},E=s=>{switch(s){case"Approved":return"approved";case"Pending":return"pending";case"Declined":case"Denied":return"denied";default:return""}};return d?a.jsxs(u,{className:"ApplicationDashLoading",children:[a.jsx(oe,{}),a.jsx(g,{sx:{ml:2},children:"Loading applications..."})]}):h?a.jsx(u,{className:"ApplicationDashError",children:a.jsx(ie,{severity:"error",children:h})}):a.jsxs(u,{className:`ApplicationDashContainer ${x?"sidebar-open":""}`,children:[a.jsx(te,{isSidebarOpen:x,setIsSidebarOpen:B}),a.jsx(u,{className:"ApplicationDashHeader",children:a.jsx(g,{variant:"h5",className:"ApplicationDashTitle",children:"Applications"})}),a.jsxs(u,{className:"ApplicationDashContent",children:[a.jsx(W,{className:"ApplicationDashOverview",children:a.jsxs(F,{children:[a.jsx(g,{variant:"h6",className:"ApplicationDashSectionTitle",gutterBottom:!0,children:"Application Overview"}),a.jsxs(u,{className:"ApplicationDashStats",children:[a.jsxs(I,{fullWidth:!0,className:`ApplicationDashPendingCard ${e==="Pending"?"active":""}`,onClick:()=>A("Pending"),children:[a.jsx(u,{className:"ApplicationDashIcon pending",children:a.jsx(u,{className:"ApplicationDashCircleIcon pending"})}),a.jsx(g,{className:"ApplicationDashLabel",children:"APPLICATION PENDING"}),a.jsx(g,{className:"ApplicationDashCount",children:H})]}),a.jsxs(I,{fullWidth:!0,className:`ApplicationDashApprovedCard ${e==="Approved"?"active":""}`,onClick:()=>A("Approved"),children:[a.jsx(u,{className:"ApplicationDashIcon approved",children:a.jsx(u,{className:"ApplicationDashCircleIcon approved"})}),a.jsx(g,{className:"ApplicationDashLabel",children:"APPLICATION APPROVED"}),a.jsx(g,{className:"ApplicationDashCount",children:b})]}),a.jsxs(I,{fullWidth:!0,className:`ApplicationDashDeniedCard ${e==="Denied"?"active":""}`,onClick:()=>A("Denied"),children:[a.jsx(u,{className:"ApplicationDashIcon denied",children:a.jsx(u,{className:"ApplicationDashCircleIcon denied"})}),a.jsx(g,{className:"ApplicationDashLabel",children:"APPLICATION DENIED"}),a.jsx(g,{className:"ApplicationDashCount",children:y})]})]})]})}),a.jsx(W,{className:"ApplicationDashChart",children:a.jsxs(F,{children:[a.jsx(g,{variant:"h6",className:"ApplicationDashSectionTitle",gutterBottom:!0,children:"Application Trends"}),a.jsx(g,{variant:"body2",sx:{color:"rgba(0,0,0,0.6)",marginBottom:2},children:"Monthly application statistics"}),a.jsx(se,{data:[{name:"Feb",Birth:i.Birth[1],Marriage:i.Marriage[1]},{name:"Mar",Birth:i.Birth[2],Marriage:i.Marriage[2]},{name:"Apr",Birth:i.Birth[3],Marriage:i.Marriage[3]},{name:"May",Birth:i.Birth[4],Marriage:i.Marriage[4]},{name:"Jun",Birth:i.Birth[5],Marriage:i.Marriage[5]},{name:"Jul",Birth:i.Birth[6],Marriage:i.Marriage[6]},{name:"Aug",Birth:i.Birth[7],Marriage:i.Marriage[7]},{name:"Sep",Birth:i.Birth[8],Marriage:i.Marriage[8]},{name:"Oct",Birth:i.Birth[9],Marriage:i.Marriage[9]},{name:"Nov",Birth:i.Birth[10],Marriage:i.Marriage[10]},{name:"Dec",Birth:i.Birth[11],Marriage:i.Marriage[11]}]})]})})]}),a.jsxs(u,{className:"ApplicationDashTableSection",sx:{maxWidth:"80vw",overflowX:"hidden"},children:[a.jsxs(u,{className:"ApplicationDashTableHeader",children:[a.jsx(g,{variant:"h6",className:"ApplicationDashTableTitle",children:"Submitted Applications"}),a.jsx(re,{className:"ApplicationDashFilterButton",size:"small",children:a.jsx(Pe,{fontSize:"small"})})]}),a.jsx(u,{className:"ApplicationDashTableContent",sx:{maxWidth:"80vw",overflowX:"hidden"},children:p.length===0?a.jsx(u,{className:"ApplicationDashNoData",children:"No applications found for the selected status."}):a.jsx(we,{component:ce,elevation:0,sx:{width:"100%",maxWidth:"80vw",overflowX:"hidden"},children:a.jsxs(me,{stickyHeader:!0,sx:{width:"100%",tableLayout:"fixed",maxWidth:"100%"},children:[a.jsx(ke,{children:a.jsxs(q,{children:[a.jsx(v,{children:"Type"}),a.jsx(v,{children:"Submitted Date"}),a.jsx(v,{children:"Status"}),a.jsx(v,{children:"ID"}),a.jsx(v,{align:"right",children:"Action"})]})}),a.jsx(be,{children:p.map((s,S)=>a.jsxs(q,{className:"ApplicationDashTableRow",children:[a.jsx(v,{className:"ApplicationDashApplicationType",children:s.type}),a.jsx(v,{className:"ApplicationDashApplicationRef",children:s.date||s.ref||"N/A"}),a.jsx(v,{className:`ApplicationDashApplicationStatus ${E(s.status)}`,children:s.status}),a.jsx(v,{className:"ApplicationDashApplicationId",children:s.id||"N/A"}),a.jsx(v,{className:"ApplicationDashApplicationAction",align:"right",children:a.jsx(I,{size:"small",color:"primary",className:"ApplicationDashReviewButton",onClick:()=>$(s),children:"REVIEW"})})]},s.id||S))})]})})})]})]})};O.__docgenInfo={description:"",methods:[],displayName:"AdminApplicationDashboard"};const ha={title:"Components/ApplicationAdminDashboard",component:O},k=()=>a.jsx(O,{});k.__docgenInfo={description:"",methods:[],displayName:"Default"};var K,Q,Y;k.parameters={...k.parameters,docs:{...(K=k.parameters)==null?void 0:K.docs,source:{originalSource:"() => <ApplicationAdminDashboard />",...(Y=(Q=k.parameters)==null?void 0:Q.docs)==null?void 0:Y.source}}};const ua=["Default"];export{k as Default,ua as __namedExportsOrder,ha as default};
